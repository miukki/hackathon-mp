





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-bedfc518345498ab3204d330c1727cde7e733526a09cd7df6867f6a231565091.css" integrity="sha256-vt/FGDRUmKsyBNMwwXJ83n5zNSagnNffaGf2ojFWUJE=" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-794ddde646dd1791582965df2f5d1936d07f155e9fb08f86df99a2043d48408a.css" integrity="sha256-eU3d5kbdF5FYKWXfL10ZNtB/FV6fsI+G35miBD1IQIo=" media="all" rel="stylesheet" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>apelegri/wechat-miniprogram-wiki: Anyone can make a Wechat mini-program with the first and only English Wiki made to decrypt the Mini-program framework.</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars2.githubusercontent.com/u/19859859?v=4&amp;s=400" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="apelegri/wechat-miniprogram-wiki" property="og:title" /><meta content="https://github.com/apelegri/wechat-miniprogram-wiki" property="og:url" /><meta content="wechat-miniprogram-wiki - Anyone can make a Wechat mini-program with the first and only English Wiki made to decrypt the Mini-program framework. " property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MTM3MDI0NDE3Ojg0ZDljNTQ0Y2JlYzMwMTgxZWFjMWNkYWZhNTI3OWUzZTUwOTk4ZjFjODFhY2JjYWMyOGEyZDlmYTE0MTgzMGI=--9c460defc94e9effe02aa4955fe1982e3952a291">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="9F24:0C51:1400F8E:235285F:59C4BB4D" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="9F24:0C51:1400F8E:235285F:59C4BB4D" name="octolytics-dimension-request_id" /><meta content="iad" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" /><meta content="514002" name="octolytics-actor-id" /><meta content="dcsan" name="octolytics-actor-login" /><meta content="4478f7ab4a447832756b64f66a69dad2daafb1d1461849151231cfa3c9ea60b8" name="octolytics-actor-hash" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="dcsan">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="NWUwNTUyMGNlMTZkMThjMDA3YjU3ZDE1Mjg1YWVkZGQwYmMzYzMxZDliMmY1ZGVkZWNiYmUxMzRmYjMzZDM0Ynx7InJlbW90ZV9hZGRyZXNzIjoiMTc0LjEzOC45Mi43MSIsInJlcXVlc3RfaWQiOiI5RjI0OjBDNTE6MTQwMEY4RToyMzUyODVGOjU5QzRCQjREIiwidGltZXN0YW1wIjoxNTA2MDY1MjMwLCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="UNIVERSE_BANNER">

  <meta name="html-safe-nonce" content="cef3e6c6ba174b969f027ac0e7c59b023a8296b7">

  <meta http-equiv="x-pjax-version" content="009d0caf64e3cc215190a05fa067d0ec">
  

      <link href="https://github.com/apelegri/wechat-miniprogram-wiki/commits/master.atom" rel="alternate" title="Recent Commits to wechat-miniprogram-wiki:master" type="application/atom+xml">

  <meta name="description" content="wechat-miniprogram-wiki - Anyone can make a Wechat mini-program with the first and only English Wiki made to decrypt the Mini-program framework. ">
  <meta name="go-import" content="github.com/apelegri/wechat-miniprogram-wiki git https://github.com/apelegri/wechat-miniprogram-wiki.git">

  <meta content="19859859" name="octolytics-dimension-user_id" /><meta content="apelegri" name="octolytics-dimension-user_login" /><meta content="92311738" name="octolytics-dimension-repository_id" /><meta content="apelegri/wechat-miniprogram-wiki" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="92311738" name="octolytics-dimension-repository_network_root_id" /><meta content="apelegri/wechat-miniprogram-wiki" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/apelegri/wechat-miniprogram-wiki" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

  </head>

  <body class="logged-in env-production emoji-size-boost">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="bg-black text-white p-3 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<header class="Header  f5" role="banner">
  <div class="d-flex px-3 flex-justify-between container-lg">
    <div class="d-flex flex-justify-between">
      <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>


    </div>

    <div class="HeaderMenu d-flex flex-justify-between flex-auto">
      <div class="d-flex">
            <div class="">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/apelegri/wechat-miniprogram-wiki/search" class="js-site-search-form" data-scoped-search-url="/apelegri/wechat-miniprogram-wiki/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/apelegri/wechat-miniprogram-wiki" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex pl-2 flex-items-center text-bold list-style-none" role="navigation">
            <li>
              <a href="/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
                Pull requests
</a>            </li>
            <li>
              <a href="/issues" aria-label="Issues you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
                Issues
</a>            </li>
                <li>
                  <a href="/marketplace" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-selected-links=" /marketplace">
                    Marketplace
</a>                </li>
            <li>
              <a href="/explore" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore">
                Explore
</a>            </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
  <li class="dropdown js-menu-container js-header-notifications">
    <span class="d-inline-block  px-2">
      
      <a href="/notifications" aria-label="You have unread notifications" class="notification-indicator tooltipped tooltipped-s  js-socket-channel js-notification-indicator" data-channel="notification-changed:514002" data-ga-click="Header, go to notifications, icon:unread" data-hotkey="g n">
          <span class="mail-status unread"></span>
          <svg aria-hidden="true" class="octicon octicon-bell" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"/></svg>
</a>
    </span>
  </li>

  <li class="dropdown js-menu-container">
    <details class="dropdown-details js-dropdown-details d-flex px-2 flex-items-center">
      <summary class="HeaderNavlink"
         aria-label="Create new…"
         data-ga-click="Header, create new, icon:add">
        <svg aria-hidden="true" class="octicon octicon-plus float-left mr-1 mt-1" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"/></svg>
        <span class="dropdown-caret mt-1"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="apelegri/wechat-miniprogram-wiki">This repository</span>
  </div>
    <a class="dropdown-item" href="/apelegri/wechat-miniprogram-wiki/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </details>
  </li>

  <li class="dropdown js-menu-container">

    <details class="dropdown-details js-dropdown-details d-flex pl-2 flex-items-center">
      <summary class="HeaderNavlink name mt-1"
        aria-label="View profile and more"
        data-ga-click="Header, show menu, icon:avatar">
        <img alt="@dcsan" class="avatar float-left mr-1" src="https://avatars2.githubusercontent.com/u/514002?v=4&amp;s=40" height="20" width="20">
        <span class="dropdown-caret"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">dcsan</strong>
        </li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="/dcsan" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a></li>
        <li><a class="dropdown-item" href="/dcsan?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a></li>
          <li><a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, your gists, text:your gists">Your Gists</a></li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a></li>

        <li><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a></li>

        <li><!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="xWlnY/KTlrsXHPgQ6QrRTtZoUAHw7akpNVFa2eeAIBVbw9aGUFFMA8TmnKlVhNP/qqyJ+T8UUv7TWPdkv5AEvw==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
        </form></li>
      </ul>
    </details>
  </li>
</ul>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="sr-only right-0" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="IVa0vAYijOpTxDkfEBS4jfhMvgZGTQhR3mzDHd3jCay//AVZpOBWUoA+Xaasmro8hIhn/om084Y4ZW6ghfMtBg==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</header>


      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container>
      




    <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
      <div class="container repohead-details-container">

        <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="KYE5IGD6FXXWdV2DEyd24K13btnQIm8r3cxlltfVfO0eIMxXp1Yxkuki0C7E/yH4hGQELlvNrnjZwCuX2qlYNg==" /></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="92311738" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/apelegri/wechat-miniprogram-wiki/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:files#disambiguate">
            <span class="js-select-button">
                <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Watch
            </span>
          </a>
            <a class="social-count js-social-count"
              href="/apelegri/wechat-miniprogram-wiki/watchers"
              aria-label="10 users are watching this repository">
              10
            </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/apelegri/wechat-miniprogram-wiki/unstar" class="starred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="gJ201CmLzxkMF+Pnt/zBlD3hN2DMK3yU5xQwWGQz5WcPSFdH7gD0v/hdXeekOqgQMoV6Jb8V4K4+CBEfBJHeJg==" /></div>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar apelegri/wechat-miniprogram-wiki"
        data-ga-click="Repository, click unstar button, action:files#disambiguate; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/apelegri/wechat-miniprogram-wiki/stargazers"
           aria-label="40 users starred this repository">
          40
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/apelegri/wechat-miniprogram-wiki/star" class="unstarred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="kTsBqzywmOb5E9RFlKMdLlffdX5GGBmy8ml1iGMCfX0Mpf8Fs98ByJKspUfllxIZExY1MPZHSePNcMacY97Jdw==" /></div>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star apelegri/wechat-miniprogram-wiki"
        data-ga-click="Repository, click star button, action:files#disambiguate; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/apelegri/wechat-miniprogram-wiki/stargazers"
           aria-label="40 users starred this repository">
          40
        </a>
</form>  </div>

  </li>

  <li>
          <a href="#fork-destination-box" class="btn btn-sm btn-with-count"
              title="Fork your own copy of apelegri/wechat-miniprogram-wiki to your account"
              aria-label="Fork your own copy of apelegri/wechat-miniprogram-wiki to your account"
              rel="facebox"
              data-ga-click="Repository, show fork modal, action:files#disambiguate; text:Fork">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            Fork
          </a>

          <div id="fork-destination-box" style="display: none;">
            <h2 class="facebox-header" data-facebox-id="facebox-header">Where should we fork this repository?</h2>
            <include-fragment src=""
                class="js-fork-select-fragment fork-select-fragment"
                data-url="/apelegri/wechat-miniprogram-wiki/fork?fragment=1">
              <img alt="Loading" height="64" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" width="64" />
            </include-fragment>
          </div>

    <a href="/apelegri/wechat-miniprogram-wiki/network" class="social-count"
       aria-label="3 users forked this repository">
      3
    </a>
  </li>
</ul>

        <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a href="/apelegri" class="url fn" rel="author">apelegri</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/apelegri/wechat-miniprogram-wiki" data-pjax="#js-repo-pjax-container">wechat-miniprogram-wiki</a></strong>

</h1>

      </div>
      <div class="container">
        
<nav class="reponav js-repo-nav js-sidenav-container-pjax"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/apelegri/wechat-miniprogram-wiki" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /apelegri/wechat-miniprogram-wiki" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/apelegri/wechat-miniprogram-wiki/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /apelegri/wechat-miniprogram-wiki/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/apelegri/wechat-miniprogram-wiki/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /apelegri/wechat-miniprogram-wiki/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/apelegri/wechat-miniprogram-wiki/projects" class="js-selected-navigation-item reponav-item" data-hotkey="g b" data-selected-links="repo_projects new_repo_project repo_project /apelegri/wechat-miniprogram-wiki/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a href="/apelegri/wechat-miniprogram-wiki/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /apelegri/wechat-miniprogram-wiki/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

    <div class="reponav-dropdown js-menu-container">
      <button type="button" class="btn-link reponav-item reponav-dropdown js-menu-target " data-no-toggle aria-expanded="false" aria-haspopup="true">
        Insights
        <svg aria-hidden="true" class="octicon octicon-triangle-down v-align-middle text-gray" height="11" version="1.1" viewBox="0 0 12 16" width="8"><path fill-rule="evenodd" d="M0 5l6 6 6-6z"/></svg>
      </button>
      <div class="dropdown-menu-content js-menu-content">
        <div class="dropdown-menu dropdown-menu-sw">
          <a class="dropdown-item" href="/apelegri/wechat-miniprogram-wiki/pulse" data-skip-pjax>
            <svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"/></svg>
            Pulse
          </a>
          <a class="dropdown-item" href="/apelegri/wechat-miniprogram-wiki/graphs" data-skip-pjax>
            <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
            Graphs
          </a>
        </div>
      </div>
    </div>
</nav>

      </div>
    </div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    
  

  <div class="js-repo-meta-container">
  <div class="repository-meta mb-0  js-repo-meta-edit js-details-container">
    <div class="repository-meta-content col-11 mb-1">
          <span class="col-11 text-gray-dark mr-2" itemprop="about">
            Anyone can make a Wechat mini-program with the first and only English Wiki made to decrypt the Mini-program framework. 
          </span>
    </div>

  </div>

    <div class="mb-3 repository-topics-container js-repository-topics-container js-details-container">
      <div id="topics-list-container" data-url="/apelegri/wechat-miniprogram-wiki/settings/topics">
          <div class="list-topics-container f6 mt-1">
      <a href="/search?q=topic%3Awechat&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:wechat">
        wechat
      </a>
      <a href="/search?q=topic%3Amini-programs&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:mini-programs">
        mini-programs
      </a>
      <a href="/search?q=topic%3Awechat-api&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:wechat-api">
        wechat-api
      </a>
      <a href="/search?q=topic%3Alifecycle-functions&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:lifecycle-functions">
        lifecycle-functions
      </a>
      <a href="/search?q=topic%3Aleancloud&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:leancloud">
        leancloud
      </a>
      <a href="/search?q=topic%3Aconfiguration&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:configuration">
        configuration
      </a>
      <a href="/search?q=topic%3Awxml&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:wxml">
        wxml
      </a>
      <a href="/search?q=topic%3Aquickstart&amp;type=Repositories" class="topic-tag topic-tag-link" data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:quickstart">
        quickstart
      </a>
  </div>


      </div>

    </div>
</div>



  <div class="overall-summary ">
    <div class="stats-switcher-viewport js-stats-switcher-viewport">
      <div class="stats-switcher-wrapper">
      <ul class="numbers-summary">
        <li class="commits">
          <a data-pjax href="/apelegri/wechat-miniprogram-wiki/commits/master">
              <svg aria-hidden="true" class="octicon octicon-history" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M8 13H6V6h5v2H8v5zM7 1C4.81 1 2.87 2.02 1.59 3.59L0 2v4h4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7s7-3.14 7-7-3.14-7-7-7z"/></svg>
              <span class="num text-emphasized">
                45
              </span>
              commits
          </a>
        </li>
        <li>
          <a data-pjax href="/apelegri/wechat-miniprogram-wiki/branches">
            <svg aria-hidden="true" class="octicon octicon-git-branch" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            <span class="num text-emphasized">
              1
            </span>
            branch
          </a>
        </li>

        <li>
          <a href="/apelegri/wechat-miniprogram-wiki/releases">
            <svg aria-hidden="true" class="octicon octicon-tag" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"/></svg>
            <span class="num text-emphasized">
              0
            </span>
            releases
          </a>
        </li>

        <li>
            <a href="/apelegri/wechat-miniprogram-wiki/graphs/contributors">
  <svg aria-hidden="true" class="octicon octicon-organization" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 12.999c0 .439-.45 1-1 1H7.995c-.539 0-.994-.447-.995-.999H1c-.54 0-1-.561-1-1 0-2.634 3-4 3-4s.229-.409 0-1c-.841-.621-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.442.58 2.5 3c.058 2.41-.159 2.379-1 3-.229.59 0 1 0 1s1.549.711 2.42 2.088C9.196 9.369 10 8.999 10 8.999s.229-.409 0-1c-.841-.62-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.437.581 2.495 3c.059 2.41-.158 2.38-1 3-.229.59 0 1 0 1s3.005 1.366 3.005 4"/></svg>
    <span class="num text-emphasized">
      4
    </span>
    contributors
</a>

        </li>
      </ul>

      </div>
    </div>
  </div>



    <include-fragment src="/apelegri/wechat-miniprogram-wiki/show_partial?partial=tree%2Frecently_touched_branches_list"></include-fragment>

  <div class="file-navigation in-mid-page">

    <div class="select-menu get-repo-select-menu js-menu-container float-right select-menu-modal-right">
  <button class="btn btn-sm btn-primary select-menu-button js-menu-target"
    type="button" aria-label="Clone or download this repository" aria-expanded="false" aria-haspopup="true">
    <span>Clone or download</span>
  </button>

  <div class="select-menu-modal-holder dropdown-menu-content js-menu-content">
    <div class="get-repo-modal dropdown-menu dropdown-menu-sw pb-0 js-toggler-container on">
      <div class="clone-options https-clone-options">
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="l2NMhBqeHnksx35aQ65jfW237Yz3cND1V4e0uyEwpwijssBhDmeeOy+va2H7qw0klG6lhq0z2GZlZxTwMDgtdQ==" /></div><button class="btn-link btn-change-protocol js-toggler-target float-right" type="submit">Use SSH</button></form>

        <h4 class="mb-1">
          Clone with HTTPS
          <a class="muted-link" href="https://help.github.com/articles/which-remote-url-should-i-use" target="_blank" title="Which remote URL should I use?">
            <svg aria-hidden="true" class="octicon octicon-question" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"/></svg>
          </a>
        </h4>
        <p class="mb-2 get-repo-decription-text">
          Use Git or checkout with SVN using the web URL.
        </p>

        <div class="input-group js-zeroclipboard-container">
  <input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="https://github.com/apelegri/wechat-miniprogram-wiki.git" aria-label="Clone this repository at https://github.com/apelegri/wechat-miniprogram-wiki.git" readonly>
  <div class="input-group-button">
    <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><svg aria-hidden="true" class="octicon octicon-clippy" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button>
  </div>
</div>

      </div>

        <div class="clone-options ssh-clone-options">
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=https&amp;protocol_type=clone" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="euy1Bq2M1XSykU/d5xqVEQObJ6whh2XK7FDcRA/QxixOPTnjuXVVNrH5WuZfH/tI+kJvpnvEbVnesHwPHthMUQ==" /></div><button class="btn-link btn-change-protocol js-toggler-target float-right" type="submit">Use HTTPS</button></form>

            <h4 class="mb-1">
              Clone with SSH
              <a class="muted-link" href="https://help.github.com/articles/which-remote-url-should-i-use" target="_blank" title="Which remote URL should I use?">
                <svg aria-hidden="true" class="octicon octicon-question" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"/></svg>
              </a>
            </h4>
            <p class="mb-2 get-repo-decription-text">
              Use an SSH key and passphrase from account.
            </p>

            <div class="input-group js-zeroclipboard-container">
  <input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="git@github.com:apelegri/wechat-miniprogram-wiki.git" aria-label="Clone this repository at git@github.com:apelegri/wechat-miniprogram-wiki.git" readonly>
  <div class="input-group-button">
    <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><svg aria-hidden="true" class="octicon octicon-clippy" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button>
  </div>
</div>

        </div>
      <div class="mt-2">
          <a href="github-mac://openRepo/https://github.com/apelegri/wechat-miniprogram-wiki" class="btn btn-outline get-repo-btn tooltipped tooltipped-s tooltipped-multiline" aria-label="Clone apelegri/wechat-miniprogram-wiki to your computer and use it in GitHub Desktop.">
    Open in Desktop
  </a>

<a href="/apelegri/wechat-miniprogram-wiki/archive/master.zip"
   class="btn btn-outline get-repo-btn
"
   rel="nofollow"
   data-ga-click="Repository, download zip, location:repo overview">
  Download ZIP
</a>

      </div>
    </div>
  </div>
</div>


  <div class="BtnGroup float-right">
      
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/apelegri/wechat-miniprogram-wiki/new/master" class="BtnGroup-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="KKDG4ZHBpJtYcZRVyMnH0rDepqkgDqERRu62nD/UNWDH8lSmLNLJn47LA+mquGgyJJJrgKvG28vGHaJnDGg7xw==" /></div>
    <button class="btn btn-sm BtnGroup-item" type="submit" data-disable-with="Creating file…">
      Create new file
    </button>
</form>

      
  <a href="/apelegri/wechat-miniprogram-wiki/upload/master" class="btn btn-sm BtnGroup-item">
    Upload files
  </a>


    <a href="/apelegri/wechat-miniprogram-wiki/find/master"
      class="btn btn-sm empty-icon float-right BtnGroup-item"
      data-pjax
      data-hotkey="t"
      data-ga-click="Repository, find file, location:repo overview">
      Find file
    </a>
  </div>

  
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/apelegri/wechat-miniprogram-wiki/tree/master"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>


        <a href="/apelegri/wechat-miniprogram-wiki/pull/new/master" class="btn btn-sm new-pull-request-btn" data-pjax data-ga-click="Repository, new pull request, location:repo overview">
          New pull request
        </a>

  <div class="breadcrumb">
    
  </div>
</div>


  


  <div class="commit-tease js-details-container Details">
    <span class="float-right">
      Latest commit
      <a class="commit-tease-sha" href="/apelegri/wechat-miniprogram-wiki/commit/6e51d462c7781588576a51f41eb22f9fe11b3d6d" data-pjax>
        6e51d46
      </a>
      <span itemprop="dateModified"><relative-time datetime="2017-07-28T10:36:18Z">Jul 28, 2017</relative-time></span>
    </span>


    <span class="commit-author-section">
      <img alt="@apelegri" class="avatar" height="20" src="https://avatars3.githubusercontent.com/u/19859859?v=4&amp;s=40" width="20" />
      <a href="/apelegri" class="user-mention" rel="author">apelegri</a>
    </span>

        <a href="/apelegri/wechat-miniprogram-wiki/commit/6e51d462c7781588576a51f41eb22f9fe11b3d6d" class="message" data-pjax="true" title="Merge branch &#39;master&#39; of github.com:apelegri/wechat-miniprogram-doc">Merge branch 'master' of github.com:apelegri/wechat-miniprogram-doc</a>
    </span>

  </div>



<div class="file-wrap">

  <a href="/apelegri/wechat-miniprogram-wiki/tree/6e51d462c7781588576a51f41eb22f9fe11b3d6d" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <table class="files js-navigation-container js-active-navigation-container" data-pjax>


    <tbody>
      <tr class="warning include-fragment-error">
        <td class="icon"><svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg></td>
        <td class="content" colspan="3">Failed to load latest commit information.</td>
      </tr>

        <tr class="js-navigation-item">
          <td class="icon">
            <svg aria-hidden="true" class="octicon octicon-file-directory" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"/></svg>
            <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a href="/apelegri/wechat-miniprogram-wiki/tree/master/assets" class="js-navigation-open" id="32bb636196f91ed59d7a49190e26b42c-79b8debefa1d6dece2661096d1328a18e2516395" title="assets">assets</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a href="/apelegri/wechat-miniprogram-wiki/commit/2f6e44ef678bf766f57f6f7565b221730283c3bf" class="message" data-pjax="true" title="Added http-request-table image to assets.">Added http-request-table image to assets.</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-07-20T15:33:05Z">Jul 20, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg aria-hidden="true" class="octicon octicon-file-text" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"/></svg>
            <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a href="/apelegri/wechat-miniprogram-wiki/blob/master/README.md" class="js-navigation-open" id="04c6e90faac2675aa89e2176d2eec7d8-15117d8b9f550a64c092e59f6139ecb55207d8eb" title="README.md">README.md</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a href="/apelegri/wechat-miniprogram-wiki/commit/6e51d462c7781588576a51f41eb22f9fe11b3d6d" class="message" data-pjax="true" title="Merge branch &#39;master&#39; of github.com:apelegri/wechat-miniprogram-doc">Merge branch 'master' of github.com:apelegri/wechat-miniprogram-doc</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-07-28T10:36:18Z">Jul 28, 2017</time-ago></span>
          </td>
        </tr>
    </tbody>
  </table>

</div>



  <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
    <h3>
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      README.md
    </h3>

      <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-wechat-mini-programs-wiki" class="anchor" href="#wechat-mini-programs-wiki" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeChat Mini-programs Wiki</h1>
<h3><a id="user-content-preface" class="anchor" href="#preface" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PREFACE</h3>
<p>China’s top messaging app WeChat rolled out something quite radical: mini-programs. Embedded apps which require no download, no install. Open, use, share, done!</p>
<h4><a id="user-content-yes-its-not-perfect" class="anchor" href="#yes-its-not-perfect" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Yes, it's not perfect...</h4>
<p>There is large debate – <em>and many clickbaits</em> – about how practical these apps are... Indeed the framework provided to developers is only at infancy stage, still limited, and honestly a bit frustrating. Nevertheless Tencent is investing unprecedented resources into the adoption of this channel, building momentum, and opening opportunities to the first-movers. We believe that these hackers may find quick-wins if they dare to give it a try.</p>
<p>Got ideas of services you would like to deploy in WeChat asap? Have basic knowledge of Javascript and want to experiment with this framework? Got lost in the Google translation of the doc? Need a small boost to decrypt what is possible or not? Hello and welcome.</p>
<h4><a id="user-content-why-this-wiki" class="anchor" href="#why-this-wiki" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why this Wiki</h4>
<p>Finding your way through the official doc is not easy. In fact, it requires a lot of trial/errors, some research on open-source code and many assumptions to get something done. You have been banging your head on the wall. We get it.</p>
<p>Our mission is to help creative entrepreneurs build great tech products. We will help you take the small steps.</p>
<p>The content below is not a translation of the documentation and will surely be outdated fast. It is simply our contribution to help any one get started and build a cool WeChat Mini-program fast. <strong>Do it now.</strong></p>
<h3><a id="user-content-get-in-touch" class="anchor" href="#get-in-touch" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get in touch</h3>
<p>Are you working on a mini-program? Do <a href="http://lewagon.com/shanghai">reach out to us</a> if you’d like to share your work, meet our crew, ask for help!</p>
<h3><a id="user-content-contribute-to-this-wiki" class="anchor" href="#contribute-to-this-wiki" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contribute to this Wiki</h3>
<p>If you want to contribute, you can send a Pull Request <a href="https://github.com/apelegri/wechat-miniprogram-wiki/pulls">here</a> or give us a shout on shanghai(at)lewagon.com for suggestions!</p>
<h3><a id="user-content-acknowledgements" class="anchor" href="#acknowledgements" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Acknowledgements</h3>
<p>This original piece was written by Le Wagon alumni: <a href="https://github.com/apelegri">Adrien Pelegri (Batch #30)</a> with the support of <a href="https://github.com/tgenaitay">Thibault Genaitay (Driver China)</a> and <a href="https://github.com/stephanedelgado">Stephane Delgado (Batch #61)</a>.</p>
<h3><a id="user-content-contributors" class="anchor" href="#contributors" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h3>
<ul>
<li><a href="https://github.com/kwnath">Nathan Lee</a></li>
<li><a href="https://github.com/stephanedelgado">Stephane Delgado</a></li>
</ul>
<h2><a id="user-content-summary" class="anchor" href="#summary" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Summary</h2>
<ul>
<li><a href="#registration-process">Registration process</a></li>
<li><a href="#wechat-ide">WeChat IDE</a>
<ul>
<li><a href="/apelegri/wechat-miniprogram-wiki/blob/master/whats-this">What's this?</a></li>
<li><a href="#quick-tutorial">Quick tutorial</a></li>
<li><a href="#project-creation">Project creation</a></li>
</ul>
</li>
<li><a href="#dig-into-the-quickstart-project">Dig into the "quickstart" project</a>
<ul>
<li><a href="#root-directory">Root directory</a></li>
<li><a href="#quickstart-project-pages">Quickstart project pages</a></li>
<li><a href="#take-away-from-the-quickstart-project">Take-away from the "quickstart" project</a></li>
</ul>
</li>
<li><a href="#the-life-cycle-of-your-mp">The life cycle of your MP</a>
<ul>
<li><a href="#application-life-cycle">Application life cycle</a></li>
<li><a href="#page-life-cycle">Page life cycle</a></li>
<li><a href="#app-life-cycle-affects-page-life-cycle">App life cycle affects page life cycle</a></li>
</ul>
</li>
<li><a href="#core-setup-of-your-mp">Core setup of your MP</a>
<ul>
<li><a href="#routing">Routing</a></li>
<li><a href="#tabbar">TabBar</a></li>
<li><a href="#window">Window</a></li>
<li><a href="#enble-pull-down-refresh">Enable pull down refresh</a></li>
<li><a href="#navbar-dynamic-title">Navbar, dynamic title</a></li>
<li><a href="#network-timeout">Network timeout</a></li>
<li><a href="#debug">Debug</a></li>
</ul>
</li>
<li><a href="#create-dynamic-pages">Create dynamic pages</a>
<ul>
<li><a href="#wxml---html-whats-the-deal">WXML - HTML, what's the deal?</a></li>
<li><a href="#data-binding">Data binding</a></li>
<li><a href="#list-loop-rendering-wxfor">List loop rendering: wx:for</a></li>
<li><a href="#conditional-rendering-wxif-wxelif-wxelse">Conditional rendering: wx:if, wx:elif, wx:else</a></li>
<li><a href="#template">Template</a></li>
<li><a href="#import-a-template">Import a template</a></li>
<li><a href="#define-a-template">Define a template</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#event-handler">Event handler</a></li>
<li><a href="#event-binding">Event binding</a></li>
<li><a href="#event-types-classification">Event types classification</a></li>
<li><a href="#mini-program-sharing">Mini-program sharing</a></li>
<li><a href="#enable-the-forward-button-of-the-drop-down-menu">Enable the forward button of the drop-down menu</a></li>
<li><a href="#create-a-forward-button-within-the-current-page">Create a forward button within the current page</a></li>
</ul>
</li>
<li><a href="#wechat-design-guidelines">WeChat design guidelines</a>
<ul>
<li><a href="#weui-basic-front-end-library">WeUI, basic front-end library </a></li>
<li><a href="#wxss">WXSS</a></li>
<li><a href="#style-import">Style import</a></li>
<li><a href="#selectors-supported">Selectors supported</a></li>
</ul>
</li>
<li><a href="#built-in-components">Built-in components</a>
<ul>
<li><a href="#navigator">Navigator</a></li>
<li><a href="#picker">Picker</a></li>
<li><a href="#switch">Switch</a></li>
<li><a href="#toast">Toast</a></li>
<li><a href="#modal">Modal</a></li>
<li><a href="#map">Map</a></li>
</ul>
</li>
<li><a href="#leancloud-db">Leancloud DB</a>
<ul>
<li><a href="#1-create-a-form">1. Create a form</a></li>
<li><a href="#2-install-and-initialize-leancloud">2. Install and initialize Leancloud</a></li>
<li><a href="#3-create-an-object-and-encapsulate-data">3. Create an object and encapsulate data</a></li>
<li><a href="#4-leancloud-dashboard">4. Leancloud dashboard</a></li>
<li><a href="#5-fetch-data-from-leancloud">5. Fetch data from Leancloud</a></li>
<li><a href="#recommendations">Recommendations</a></li>
<li><a href="#production-domain-name-whitelist">Production: domain name whitelist</a></li>
</ul>
</li>
<li><a href="#wechat-api">WeChat API</a>
<ul>
<li><a href="#get-user-information">Get user information</a></li>
<li><a href="#data-cache">Data cache</a></li>
<li><a href="#open-the-qr-code-scanner">Open the QR code scanner</a></li>
<li><a href="#location-based-services">Location-based services</a></li>
<li><a href="#image">Image</a></li>
</ul>
</li>
<li><a href="#faq">FAQ</a></li>
</ul>
<hr>
<h2><a id="user-content-registration-process" class="anchor" href="#registration-process" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Registration process</h2>
<p>The registration process is really tough, especially if you don’t have any experience with the fantastic Chinese administrative world.
The WeChat verification process will be long. Keep your calm.</p>
<p>From the WeChat mini-program registration, until the development release, you basically need to go through these steps:</p>
<ul>
<li><a href="https://mp.weixin.qq.com">Create an account</a> on WeChat back-end.</li>
<li><strong>Pick the right type of application</strong> and go through the registration process.</li>
<li>Complete the <strong>mini-program certification</strong> process.</li>
<li>Fill in your mini-program information.</li>
</ul>
<p>Here is a list of materials you will need to register a mini-program as a company:</p>
<ul>
<li>Email, to create your Wechat account.</li>
<li>Chinese ID. This person will own the account and scan QR codes a lot.</li>
<li>Phone number, to certify your identity during the verification process.</li>
<li>Chinese business license, to register as an enterprise.</li>
<li>Company documents: organisation code, certificate and enterprise bank account.</li>
<li>Fill in the official letter Tencent provides, sign it (by the admin) and stamp it with the enterprise stamp. Upload it.</li>
</ul>
<p>We recommend you follow this comprehensive English manual on how to register and create a mini-program project: <a href="https://medium.com/@yelin.qiu/a-complete-manual-on-wechat-mini-program-development-8fd28a85ee0d">Medium article</a>
or check this <a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=201758">official WeChat documentation</a> (Chinese).</p>
<hr>
<h2><a id="user-content-wechat-ide" class="anchor" href="#wechat-ide" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeChat IDE</h2>
<h4><a id="user-content-whats-this" class="anchor" href="#whats-this" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What's this?</h4>
<p>An <a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=201758">IDE</a> (integrated development environment)  is a set of programming tools for writing an application. It consists of a code editor, a compiler and a debugger, accessible through a single graphical user interface.</p>
<p>Download the WeChat IDE here:
<a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=darwin&amp;from=mpwiki">Mac</a>, <a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=darwin&amp;from=mpwiki">Windows 64</a>, <a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=ia32&amp;from=mpwiki">Windows 32</a></p>
<h4><a id="user-content-quick-tutorial" class="anchor" href="#quick-tutorial" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick tutorial</h4>
<p>Here is a quick tutorial to master the WeChat IDE and take the most from it.</p>
<p>A <strong>Code editor</strong> with the tree of your files on the side and a <strong>Simulator</strong> on the left, which displays the preview of your app.
<a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/code-editor.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/code-editor.png" alt="IDE Wechat home" style="max-width:100%;"></a></p>
<p>Here is a complete list of buttons to perform tasks when you are in development:</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/ide-home.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/ide-home.png" alt="IDE cta" style="max-width:100%;"></a></p>
<p><strong>1. 	Profile:</strong> click on it to log out from the IDE.
<strong>2.	Code Editing</strong>
<strong>3.	Debug / Inspect:</strong> see below.
<strong>4.	Project information:</strong> see below.
<strong>5.	Compiler:</strong> Can be usefull to compile the app when the auto-refresh of the view is not working.
<a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/compilator-modal.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/compilator-modal.png" alt="compilator settings" style="max-width:100%;"></a></p>
<p><strong>6.  Scene value</strong><br>
<strong>7.  Cache</strong><br>
<strong>8.  Shut down:</strong>  Quit the project you are on and move toward another one.<br>
<strong>9.  Hide the simulator</strong><br>
<strong>10. Devices:</strong> It gives a list of devices to test mini-program responsivness.<br>
<strong>11.  You can work on:</strong> wifi, 4G, 3G, 2G.<br>
<strong>12.  Hide arborescence</strong><br>
<strong>13.  Manage your files:</strong>  Search, add and delete a folder or a file.</p>
<p><strong>Debugger / Inspector:</strong>
This tool is an important part of the IDE, it looks like the good old <em>Chrome DevTools</em>.
<a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/debugger.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/debugger.png" alt="IDE debugger" style="max-width:100%;"></a></p>
<p><strong>1. Top bar</strong>
​<br>
<strong>Network:</strong> This panel is to debug request and socket issues or page load performance.<br>
<strong>Storage:</strong> allows to access all the data you have in your cache.<br>
<strong>AppData:</strong> is used to display the current project data. You can directly edit the data in the panel and preview it.<br>
<strong>Wxml:</strong> let you inspect and edit on the fly every elements of your page.<br>
<strong>Sensor:</strong> you can simulate location and the performance of the mobile device to debug gravity sensing.</p>
<p><strong>2. Sources panel</strong>
Sources panel displays the current project script files.</p>
<p><strong>3. Console</strong>
The console will let you know what errors you have in your code by logging diagnostic information and interact with javascript in the page as your <strong>console.log()</strong> you have placed and more.</p>
<p><strong>Project information:</strong>
This page is where you will find the current project details as your AppID, directory information and more.  By clicking on the <strong>preview option</strong> you will be able to test the mini-program directly on your phone after scanning a QR code.</p>
<p><strong>Note:</strong>
While you are testing your mini-program on your phone, you can enable the debugger tool directly on your device.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/project-information.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/project-information.png" alt="project information" style="max-width:100%;"></a></p>
<h4><a id="user-content-project-creation" class="anchor" href="#project-creation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project creation</h4>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/project-creation-modal.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/project-creation-modal.png" alt="project creation modal" style="max-width:100%;"></a></p>
<hr>
<h2><a id="user-content-dig-into-the-quickstart-project" class="anchor" href="#dig-into-the-quickstart-project" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dig into the "quickstart" project</h2>
<p>This section will introduce the structure of the <strong>"quickstart" provided by WeChat</strong> (boilerplate) and the fundamentals you need to comply with this framework.</p>
<p>Download WeChat <a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/quickstart.zip">quickstart.zip</a>.</p>
<p><strong>Quickstart arborescence:</strong></p>
<pre>.
├── <strong>app.js</strong>
├── <strong>app.json</strong>
├── <strong>app.wxss</strong>
├── <strong>pages</strong>
│   ├── <strong>index</strong>
│   │   ├── index.js
│   │   ├── index.json
│   │   ├── index.wxml
│   │   └── index.wxss
│   └── <strong>logs</strong>
│       ├── logs.js
│       ├── logs.json
│       ├── logs.wxml
│       └── logs.wxss
└── <strong>utils</strong>
    └── util.js
</pre>
<p>The index page of this boilerplate displays a welcome page with the current user profile's information. A click on your avatar will redirect to a new page displaying your current mini-program logs.</p>
<h3><a id="user-content-root-directory" class="anchor" href="#root-directory" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Root directory</h3>
<p>WeChat mini-programs start with <strong>"app" files</strong> (see the screenshot below). These files are the mini-program root directory therefore the entrance of your mini-program.  (Here is the official <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/structure.html">WeChat documentation</a>).</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/root-directory.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/root-directory.png" alt="root directory" style="max-width:100%;"></a>
<strong>app.js</strong> is the script code, the global logic of your mini-program. You can setup and manipulate the <a href="#application-life-cycle">life cycle functions</a> of your MP, declare global variables or call an API.</p>
<p><strong><code>Code snippet of the "app.js" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> app.js</span>
<span class="pl-en">App</span>({
  <span class="pl-en">onLaunch</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
  <span class="pl-c"><span class="pl-c">//</span> API call to get data from the local cache</span>
    <span class="pl-k">var</span> logs <span class="pl-k">=</span> <span class="pl-smi">wx</span>.<span class="pl-en">getStorageSync</span>(<span class="pl-s"><span class="pl-pds">'</span>logs<span class="pl-pds">'</span></span>) <span class="pl-k">||</span> []
    <span class="pl-smi">logs</span>.<span class="pl-c1">unshift</span>(<span class="pl-c1">Date</span>.<span class="pl-en">now</span>())
    <span class="pl-smi">wx</span>.<span class="pl-en">setStorageSync</span>(<span class="pl-s"><span class="pl-pds">'</span>logs<span class="pl-pds">'</span></span>, logs)
  },
  <span class="pl-c"><span class="pl-c">//</span> Get user information</span>
  <span class="pl-en">getUserInfo</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">cb</span>){
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>){
      <span class="pl-k">typeof</span> cb <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-en">cb</span>(<span class="pl-c1">this</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>)
    }<span class="pl-k">else</span>{
    <span class="pl-c"><span class="pl-c">//</span> Call login interface</span>
      <span class="pl-smi">wx</span>.<span class="pl-en">login</span>({
        <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
          <span class="pl-smi">wx</span>.<span class="pl-en">getUserInfo</span>({
            <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
              <span class="pl-smi">that</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span> <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">userInfo</span>
              <span class="pl-k">typeof</span> cb <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-en">cb</span>(<span class="pl-smi">that</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>)
            }
          })
        }
      })
    }
  },
  <span class="pl-c"><span class="pl-c">//</span> Global variable</span>
  globalData<span class="pl-k">:</span>{
    userInfo<span class="pl-k">:</span><span class="pl-c1">null</span>
  }
})</pre></div>
<p><strong>app.json</strong> is the global configuration of the overall mini-program. You can configure, MP (mini-program) page’s path, the MP window style, set the network timeout and debug configuration.</p>
<p><strong><code>Code snippet of the "app.json" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>pages<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
    <span class="pl-s"><span class="pl-pds">"</span>pages/index/index<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>pages/logs/logs<span class="pl-pds">"</span></span>
  ],
  <span class="pl-s"><span class="pl-pds">"</span>window<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
    <span class="pl-s"><span class="pl-pds">"</span>backgroundTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>gray<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarBackgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#fff<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarTitleText<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>black<span class="pl-pds">"</span></span>
  }
}</pre></div>
<p><strong>Note:</strong> Comments are not allowed in the <strong>app.json</strong> file.</p>
<p><strong>app.wxss</strong> is the global style sheet of the mini-program. You should declare common style rules here.
​</p>
<h3><a id="user-content-wechat-quickstart-pages" class="anchor" href="#wechat-quickstart-pages" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeChat "quickstart" pages</h3>
<p>The <strong>two pages</strong> of WeChat quickstart are:</p>
<ul>
<li><strong>index page</strong> which is the welcome page.</li>
<li><strong>logs page</strong> which displays current user mini-program logs.</li>
</ul>
<p><strong>Pages</strong> folder is where you have or create your mini-program pages. Each page you create is <strong>required to contain two files:</strong></p>
<ul>
<li><strong>.js</strong> file for the logic of your interface.</li>
<li><strong>.wxml</strong> file for the interface layout.</li>
</ul>
<p>You can add two more files in each page you create:</p>
<ul>
<li>
<p><strong>.json</strong> file for page configuration.</p>
</li>
<li>
<p><strong>.wxss</strong> file for the style sheet of your interface.</p>
<p>​
<strong>Rule:</strong>
Each page of your mini-program can be composed of four different file extensions (js ; json ; wxml ; wxss)  but <strong>should have the same name.</strong></p>
</li>
</ul>
<p><strong>Further details:</strong>
A new page will always contain a <strong>.js</strong> file and a <strong>.wxml</strong> file minimum. The <strong>.json</strong> file extension is used just in case you want to override the <a href="#window">window configuration</a> in this particular page. Add <strong>.wxss</strong> if you want to add a style sheet to your page.</p>
<p>Let's see what happens in each page of the quickstart project.</p>
<p><strong><code>Code snippet of the "index.js" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> index.js</span>
<span class="pl-c"><span class="pl-c">//</span> Get application instance</span>
<span class="pl-k">var</span> app <span class="pl-k">=</span> <span class="pl-en">getApp</span>()
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    motto<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World<span class="pl-pds">'</span></span>,
    userInfo<span class="pl-k">:</span> {}
  },
  <span class="pl-c"><span class="pl-c">//</span> Event that redirect user to logs page</span>
  <span class="pl-en">Tapped</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">"</span>tapped<span class="pl-pds">"</span></span>);
    <span class="pl-smi">wx</span>.<span class="pl-en">navigateTo</span>({
     url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>../logs/logs<span class="pl-pds">'</span></span>
    })
  },
  <span class="pl-en">onLoad</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>onLoad<span class="pl-pds">'</span></span>)
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-c"><span class="pl-c">//</span> Call the application instance to get data</span>
    <span class="pl-smi">app</span>.<span class="pl-en">getUserInfo</span>(<span class="pl-k">function</span>(<span class="pl-smi">userInfo</span>){
      <span class="pl-c"><span class="pl-c">//</span> Updates userInfo data</span>
      <span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
        userInfo<span class="pl-k">:</span>userInfo
      })
    })
  }
})</pre></div>
<p><strong>Snippet comments:</strong></p>
<ol>
<li>The snippet above assigns the <strong>app instance</strong> to a variable. This app instance will be called in <code>Page()</code>function later on to collect user information.</li>
<li>Next it registers a <code>Page()</code> function and sets <code>data:</code> to dynamically bind data into the view.</li>
<li><code>Tapped</code>function redirects the current user to his logs page.</li>
<li><code>onLoad</code> function  gets user information and  updates <code>userinfo</code> data.</li>
</ol>
<p><strong><code>Code snippet of the "logs.js" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> logs.js</span>
<span class="pl-k">var</span> util <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../../utils/util.js<span class="pl-pds">'</span></span>)
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    logs<span class="pl-k">:</span> []
  },
  <span class="pl-en">onLoad</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">wx</span>.<span class="pl-en">getStorageSync</span>(<span class="pl-s"><span class="pl-pds">'</span>logs<span class="pl-pds">'</span></span>))
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      logs<span class="pl-k">:</span> (<span class="pl-smi">wx</span>.<span class="pl-en">getStorageSync</span>(<span class="pl-s"><span class="pl-pds">'</span>logs<span class="pl-pds">'</span></span>) <span class="pl-k">||</span> []).<span class="pl-en">map</span>(<span class="pl-k">function</span> (<span class="pl-smi">log</span>) {
        <span class="pl-k">return</span> <span class="pl-smi">util</span>.<span class="pl-en">formatTime</span>(<span class="pl-k">new</span> <span class="pl-en">Date</span>(log))
      })
    })
  }
})</pre></div>
<p><strong>Snippet comments:</strong></p>
<ol>
<li>First it requires <strong>util.js</strong> in the purpose of calling <code>formatTime</code> later on.</li>
<li>It registers <code>Page()</code> function and sets <code>data:</code>.</li>
<li><code>onLoad</code> function <strong>retrieves current user logs</strong>  from the cache <code>wx.getStorageSync('logs')</code>. Then render logs in <code>formatTime</code> which is provided by the require of <strong>util.js</strong>.</li>
</ol>
<p><strong><code>Code snippet of the "utils.js" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">function</span> <span class="pl-en">formatTime</span>(<span class="pl-smi">date</span>) {
  <span class="pl-k">var</span> year <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>()
  <span class="pl-k">var</span> month <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>() <span class="pl-k">+</span> <span class="pl-c1">1</span>
  <span class="pl-k">var</span> day <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>()

  <span class="pl-k">var</span> hour <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getHours</span>()
  <span class="pl-k">var</span> minute <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getMinutes</span>()
  <span class="pl-k">var</span> second <span class="pl-k">=</span> <span class="pl-smi">date</span>.<span class="pl-c1">getSeconds</span>()


  <span class="pl-k">return</span> [year, month, day].<span class="pl-en">map</span>(formatNumber).<span class="pl-c1">join</span>(<span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> <span class="pl-pds">'</span></span> <span class="pl-k">+</span> [hour, minute, second].<span class="pl-en">map</span>(formatNumber).<span class="pl-c1">join</span>(<span class="pl-s"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span>)
}

<span class="pl-k">function</span> <span class="pl-en">formatNumber</span>(<span class="pl-smi">n</span>) {
  n <span class="pl-k">=</span> <span class="pl-smi">n</span>.<span class="pl-c1">toString</span>()
  <span class="pl-k">return</span> n[<span class="pl-c1">1</span>] <span class="pl-k">?</span> n <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span> <span class="pl-k">+</span> n
}

<span class="pl-c1">module</span>.<span class="pl-smi">exports</span> <span class="pl-k">=</span> {
  formatTime<span class="pl-k">:</span> formatTime
}</pre></div>
<p><strong>Note:</strong></p>
<p>In Utils are stored <strong>imported libraries</strong> that you may require elsewhere (in our example, util.js is required in log.js). In the code snippet above, the <code>formatTime</code> function is defined in <strong>util.js</strong> to properly display the date of your logs.</p>
<h3><a id="user-content-take-away-from-the-quickstart-project" class="anchor" href="#take-away-from-the-quickstart-project" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Take-away from the "quickstart" project</h3>
<p>Up to now you catch the fact that you will have <strong>two layers in each page:</strong></p>
<ul>
<li>
<p><strong>Logical layer (.js):</strong> process the data and send it to the view layer, while receiving events triggered from the view layer.</p>
</li>
<li>
<p><strong>View layer (.wxml/.wxss):</strong> display the data processed by the logical layer into a view, while sending the events of the view layer to the logical layer.</p>
</li>
</ul>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/logical-view-layer-scheme.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/logical-view-layer-scheme.png" alt="App life cycle" style="max-width:100%;"></a></p>
<hr>
<h2><a id="user-content-the-life-cycle-of-your-mp" class="anchor" href="#the-life-cycle-of-your-mp" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The life cycle of your MP</h2>
<p>We can break-down a mini-program life cycle in two cycles, the application cycle and the page cycle.
The <strong><code>App()</code></strong> life cycle is the <strong>start &amp; end point</strong> of the mini-program whereas <strong><code>Page()</code></strong> life cycle is activated when users browse through the mini-program.</p>
<h3><a id="user-content-application-life-cycle" class="anchor" href="#application-life-cycle" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Application life cycle</h3>
<p><code>App()</code> function is used to register a mini-program. It takes an object as parameter which specifies the life cycle functions of a MP.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/app-lifecylce.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/app-lifecylce.png" alt="App life cycle" style="max-width:100%;"></a></p>
<p><strong>Comments:</strong></p>
<ol>
<li>A user opens the mini-program which triggers <strong><code>onLaunch</code></strong> function and initialize the MP.</li>
<li>When the initialization is completed, the <strong><code>onShow</code></strong> function is triggered.</li>
<li>The <strong><code>onHide</code></strong> function is triggered when the current user exits the mini-program.</li>
</ol>
<p><strong><code>Code snippet of the "App()" life cycle functions.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">App</span>({
  <span class="pl-en">onLaunch</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when launch.</span>
  },
  <span class="pl-en">onShow</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when show.</span>
  },
  <span class="pl-en">onHide</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when hide.</span>
  },
  <span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">msg</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(msg)
  },
  globalData<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>I am global data<span class="pl-pds">'</span></span>
})</pre></div>
<p>WeChat framework offers a global function called <code>getApp()</code> which is an instance of <code>App()</code>.</p>
<p><strong><code>Code snippet "getApp()" function.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-k">var</span> appInstance <span class="pl-k">=</span> <span class="pl-en">getApp</span>()
<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">appInstance</span>.<span class="pl-smi">globalData</span>) <span class="pl-c"><span class="pl-c">//</span> I am global data</span></pre></div>
<p><code>getApp()</code> function, can be useful  for the simple reason that you can’t define the <code>App()</code> function  inside of a <code>Page()</code> function. In order to access the app instance you must call <code>getApp()</code> function.</p>
<h3><a id="user-content-page-life-cycle" class="anchor" href="#page-life-cycle" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Page life cycle</h3>
<p><code>Page()</code>  function is used to register a page. It accepts an object as a parameter, that specifies the initial data for the page, life cycle functions,  event handler and so on.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/page-lifecycle.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/page-lifecycle.png" alt="Page life cycle " style="max-width:100%;"></a></p>
<p><strong>Comments:</strong></p>
<ol>
<li>After page registration, the framework calls the <strong><code>onLoad</code></strong> function.</li>
<li>When a page loads, it calls the <strong><code>onShow</code></strong> function.</li>
<li>The first time the page is displayed, <strong><code>onShow</code></strong> function calls <strong><code>onReady</code></strong> to render the view.</li>
<li>On subsequent times, <strong><code>onShow</code></strong> function directly renders a view.</li>
<li>The <strong><code>onHide</code></strong> is triggered when the mini-program jumps to another page.</li>
<li><strong><code>onUnload</code></strong> function is called when you quit a page by using <code>wx.redirectTo()</code>and  <code>wx.navigateBack()</code>. Or when the current page is relaunched, <code>wx.reLaunch</code>.</li>
</ol>
<p><strong><code>Code snippet of "Page()" life cycle functions.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>This is page data.<span class="pl-pds">"</span></span>
  },
  <span class="pl-en">onLoad</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
    <span class="pl-c"><span class="pl-c">//</span> Do some initializations when page load.</span>
  },
  <span class="pl-en">onReady</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when page ready.</span>
  },
  <span class="pl-en">onShow</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when page show.</span>
  },
  <span class="pl-en">onHide</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when page hide.</span>
  },
  <span class="pl-en">onUnload</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Do something when page close.</span>
  },
  <span class="pl-c"><span class="pl-c">//</span> Event handler</span>
  <span class="pl-en">viewTap</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Set some data.<span class="pl-pds">'</span></span>
    })
  }
})</pre></div>
<h3><a id="user-content-app-life-cycle-affects-page-life-cycle" class="anchor" href="#app-life-cycle-affects-page-life-cycle" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>App life cycle affects page life cycle</h3>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/app-affect-page.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/app-affect-page.png" alt="App affects page " style="max-width:100%;"></a></p>
<p>When the <strong><code>App()</code></strong> life cycle  is complete, the page loads by calling <strong><code>onLoad</code></strong> for the first time, and will only call it once.</p>
<p>When the mini-program is running from the background (app life cycle) to the foreground (page life cycle), it first calls the <strong><code>App()</code></strong> <code>onShow</code> function and then calls the <strong><code>Page()</code></strong> <code>onShow</code> function when switching to the foreground.</p>
<p><strong>WeChat recommendations:</strong></p>
<ul>
<li><code>App()</code> function cannot be reused and should be register once in the <strong>app.js</strong>.</li>
<li>Do not call <code>onLaunch</code> when the <code>getCurrentPages()</code> page is not yet generated.</li>
<li>By using <code>getApp()</code>you can obtain an <strong>instance of App()</strong> but lifecycle functions don’t attempt to call the <code>App()</code> functions.</li>
</ul>
<hr>
<h2><a id="user-content-core-setup-of-your-mp" class="anchor" href="#core-setup-of-your-mp" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core setup of your MP</h2>
<p>The setup of your mini-program is simple and designed to save you time and frustration when having customization needs.</p>
<p>WeChat divides the <strong>app.json configuration</strong> in five parts:</p>
<ul>
<li>Routing</li>
<li>TabBar</li>
<li>Window</li>
<li>Network timeout</li>
<li>Debug</li>
</ul>
<p>In this part we will <strong>break-down</strong> this complete <strong>app.json setup</strong> exemple.</p>
<p><strong><code>Code snippet "app.json complete setup" example</code></strong></p>
<div class="highlight highlight-source-js"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>pages<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
    <span class="pl-s"><span class="pl-pds">"</span>pages/index/index<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>pages/form/form<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>pages/wagon/wagon<span class="pl-pds">"</span></span>,
  ],
  <span class="pl-s"><span class="pl-pds">"</span>window<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarBackgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D03232<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>navigationBarTitleText<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Le Wagon<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>backgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#eeeeee<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>backgroundTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>light<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>enablePullDownRefresh<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">true</span>
  },
  <span class="pl-s"><span class="pl-pds">"</span>tabBar<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
    <span class="pl-s"><span class="pl-pds">"</span>backgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#FFFFFE<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>borderStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D3D3D3<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>selectedColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D03232<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>color<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#131313<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>list<span class="pl-pds">"</span></span><span class="pl-k">:</span> [{
      <span class="pl-s"><span class="pl-pds">"</span>pagePath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>pages/index/index<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>iconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/form.png<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>selectedIconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/form-hover.png<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Form<span class="pl-pds">"</span></span>
    }, {
      <span class="pl-s"><span class="pl-pds">"</span>pagePath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>pages/wagon/wagon<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>iconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/about.png<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>selectedIconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/about-hover.png<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>About<span class="pl-pds">"</span></span>
    }]
  }
}</pre></div>
<h3><a id="user-content-routing" class="anchor" href="#routing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Routing</h3>
<p><code>pages</code> role in <strong>app.json</strong> is to <strong>define all routes</strong>  of your mini-program. This item's configuration is <strong>mandatory</strong> and it <strong>takes an array of strings</strong>. Each sub-folder and files within the parent pages folder corresponds to a <strong>routing path</strong>.</p>
<p><strong><code>Code snippet of the "app.json" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>pages<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
    <span class="pl-s"><span class="pl-pds">"</span>pages/index/index<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>pages/form/form<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>pages/wagon/wagon<span class="pl-pds">"</span></span>
  ]
}</pre></div>
<p><strong>Tip:</strong><br>
Each time you <strong>add a route path</strong> to <code>"pages"</code>, the IDE will <strong>automatically create</strong> the folder and files that corresponds to the path you just created.</p>
<p><strong>The WeChat framework brings several routing logics:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/routing-mode.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/routing-mode.png" alt="App affects page " style="max-width:100%;"></a></p>
<p><strong>Routing mode description:</strong></p>
<ul>
<li>
<p><strong>Initialization:</strong>
Once the mini-program is launched, the first page is loaded by <code>onLoad</code> and <code>onShow</code> function.</p>
</li>
<li>
<p><strong>Open a new page:</strong>
Opening a new page hides the current page and jumps to another one using the <code>wx.navigateTo</code>.
Behind the scene the first page will be hidden by the call of the <strong>onHide</strong> function and jump over the other page by calling <strong>onLoad</strong> and <strong>onShow</strong>.
<a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/added-layers.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/added-layers.png" alt="App affects page " style="max-width:100%;"></a></p>
</li>
<li>
<p><strong>Page redirection:</strong>
Close the current page by calling <strong>onUnload</strong> and jumps to a page within the app using <code>wx.redirectTo</code> which call <strong>onLoad</strong> and <strong>onShow</strong> functions.</p>
</li>
<li>
<p><strong>Page return:</strong>
<code>onUnload</code> the current page, calls <code>onLoad</code> function and then displays the target page by calling <code>onShow</code>.</p>
</li>
<li>
<p><strong>Reloading,</strong> <code>wx.reLaunch</code>:
Close all pages and reloads the current page. *<em>Does not work on certain andriod devices.</em></p>
</li>
<li>
<p><strong>Switch tabs,</strong>  <code>wx.switchTab</code>: Jumps from one tabBar page to another one and close or hides all other non-tabBar pages by using <strong>onUnload, onHide and onShow</strong>. Discover all possible <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/route.html">scenarios for tabs switching</a>.</p>
</li>
</ul>
<p><strong>Switch tabs, navigation restrictions:</strong></p>
<ul>
<li>No callback at the top of the page.</li>
<li>The tabBar path cannot take parameters.</li>
</ul>
<p><strong>WeChat recommendations:</strong></p>
<ul>
<li><code>navigateTo</code>, <code>redirectTo</code> can only open a non-tabBar page.
-<code>switchTab</code> can only open and display tabBar page.
-<code>reLaunch</code> can be used for every pages.</li>
<li>The tabBar at the bottom of the page is displayed <strong>according to the page you are on.</strong> As long as the page you are on is defined in the tabBar, the tabBar will be display.</li>
<li><strong>Page stack modification</strong> will lead to routing and page status error, it is not recommended. Dig further in <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/route.html">pages stack mecanism</a>.</li>
</ul>
<p><strong><code>getCurrentPages()</code></strong>:
This function is used to <strong>get the instance of the current page stack.</strong> It is given as an array in the page stack order. The first item of the array is the first page and the last item the current page.</p>
<h3><a id="user-content-tabbar" class="anchor" href="#tabbar" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TabBar</h3>
<p><code>tabBar</code> as the name suggests, is the item which configures the top or bottom tab bar. <strong><code>tabBar</code> is an array</strong> which accomodates a minimum of 2 and <strong>a maximum of 5 tabs.</strong></p>
<p><strong><code>Code snippet of the "app.json" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre>{
<span class="pl-s"><span class="pl-pds">"</span>tabBar<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
  <span class="pl-s"><span class="pl-pds">"</span>backgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#FFFFFE<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>borderStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D3D3D3<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>selectedColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D03232<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>color<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#131313<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>list<span class="pl-pds">"</span></span><span class="pl-k">:</span> [{
    <span class="pl-s"><span class="pl-pds">"</span>pagePath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>pages/index/index<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>iconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/form.png<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>selectedIconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/form-hover.png<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Form<span class="pl-pds">"</span></span>
   }, {
    <span class="pl-s"><span class="pl-pds">"</span>pagePath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>pages/wagon/wagon<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>iconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/about.png<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>selectedIconPath<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>image/about-hover.png<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>About<span class="pl-pds">"</span></span>
  }]
}
}</pre></div>
<p><strong>Attributes indication:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/tabBar-style.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/tabBar-style.png" alt="tabBar attributes visual " style="max-width:100%;"></a></p>
<p>Using the <code>tabBar</code> <code>list</code> key, requires an object in each element of the array.</p>
<p><strong><code>List</code> attributes values are as follow:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/tabbar-list-attributes.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/tabbar-list-attributes.png" alt="tabBar attributes " style="max-width:100%;"></a></p>
<p><strong>TabBar attributes description:</strong>
<a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/tabBar-attributes.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/tabBar-attributes.png" alt="tabBar attributes " style="max-width:100%;"></a></p>
<p><strong>WeChat recommendations:</strong></p>
<ul>
<li>Setting your <code>tabBar</code> position to top could not display icons.</li>
<li>The limit size of your icons in the bottom <code>tabBar</code> are, 40kb, 81px*81px.</li>
</ul>
<h3><a id="user-content-window" class="anchor" href="#window" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Window</h3>
<p>The window item is used to set mini-program title and common window style.</p>
<p><strong><code>Code snippet of the "app.json" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-s"><span class="pl-pds">"</span>window<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
  <span class="pl-s"><span class="pl-pds">"</span>navigationBarBackgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#D03232<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>navigationBarTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>navigationBarTitleText<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Le Wagon<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>backgroundColor<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>#eeeeee<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>backgroundTextStyle<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>light<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>enablePullDownRefresh<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">true</span>
 }</pre></div>
<p><strong>Window attributes description:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/window-config.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/window-config.png" alt="window configuration" style="max-width:100%;"></a></p>
<h4><a id="user-content-enable-pull-down-refresh" class="anchor" href="#enable-pull-down-refresh" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable pull down refresh</h4>
<p><code>"enablePullDownRefresh": true</code> needs to be configured in the global <strong>app.json</strong> as above and then you can call <code>onPullDownRefresh()</code> in mini-program pages.</p>
<p><strong><code>Code snippet of the "Enable pull down refresh in a page" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre> <span class="pl-c"><span class="pl-c">//</span> .js</span>
 <span class="pl-en">Page</span>({
   <span class="pl-c"><span class="pl-c">//</span> Pull down the trigger event</span>
  <span class="pl-en">onPullDownRefresh</span>() {
    <span class="pl-c"><span class="pl-c">//</span> Stop the dropdown refresh</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">stopPullDownRefresh</span>()
  }
}}</pre></div>
<h4><a id="user-content-navbar-dynamic-title" class="anchor" href="#navbar-dynamic-title" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Navbar dynamic title</h4>
<p>WeChat offers the possibility to <strong>change the title</strong> of the top <strong>navigation bar</strong> within each page.</p>
<p><strong><code>Code snippet of the "change navbar title" file.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  <span class="pl-c"><span class="pl-c">//</span> Loading spinner when page loads</span>
  <span class="pl-en">onload</span><span class="pl-k">:</span> <span class="pl-k">function</span> (){
   <span class="pl-smi">wx</span>.<span class="pl-en">showNavigationBarLoading</span>()
  },
  <span class="pl-c"><span class="pl-c">//</span> Change navigation bar title</span>
  <span class="pl-en">onShow</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
   <span class="pl-smi">wx</span>.<span class="pl-en">setNavigationBarTitle</span>({
    title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>My new navabar title<span class="pl-pds">'</span></span>,
    <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">res</span>){
      <span class="pl-en">console</span>.<span class="pl-c1">log</span>(res)
    }
   })
  }
})</pre></div>
<h3><a id="user-content-network-timeout" class="anchor" href="#network-timeout" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Network timeout</h3>
<p>Network timeout may be provided in a variety of network requests.
Here is the link to the <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html">WeChat documentation</a>  if you want to go further.</p>
<h3><a id="user-content-debug" class="anchor" href="#debug" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debug</h3>
<p>Here is a link to the <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html">WeChat documentation</a>.</p>
<hr>
<h2><a id="user-content-create-dynamic-pages" class="anchor" href="#create-dynamic-pages" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create dynamic pages</h2>
<h3><a id="user-content-wxml---html-whats-the-deal" class="anchor" href="#wxml---html-whats-the-deal" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WXML - HTML, what's the deal?</h3>
<p><strong>WXML</strong> is a WeChat markup language similar to HTML. It combines a <strong>basic library of components</strong> and <strong>an event system</strong> to build dynamic pages.</p>
<p>The WeChat event system behaves like classic Javascript events which <strong>handle logical responses to the view layer.</strong></p>
<p>The table below lists the <strong>significant differences</strong> you will face in development between <strong>WXML / HTML:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/wxml-html.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/wxml-html.png" alt="wxml and html differences" style="max-width:100%;"></a></p>
<p><strong>Further explanations about <code>&lt;block&gt;</code></strong>:</p>
<p><code>&lt;block&gt;</code> is <strong>not a component</strong>, it is only a <strong>packaging element</strong>, it will not do any rendering in the page and <strong>only accept control properties</strong>.</p>
<p><strong>Note:</strong> All components and attributes are lowercase.</p>
<h3><a id="user-content-data-binding" class="anchor" href="#data-binding" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data binding</h3>
<p>The Mini-program framework does not allow developers to use the DOM to control your WXML elements. Instead, you will <strong>update your view layer</strong> (.wxml file) <strong>via data binding method:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/data-binding.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/data-binding.png" alt="wxml and html differences" style="max-width:100%;"></a></p>
<p>In order to comply with WeChat requirements the <code>data</code> attribute has to be initialized <strong>in JSON format</strong> within <code>Page()</code> function. <strong>Data binding</strong> technique allows to <strong>update data dynamically</strong> within the view layer.</p>
<p>A good practice is to initialize <code>data</code> at the top of the <code>Page()</code> function.</p>
<p><strong><code>Code snippet "data binding" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span>&gt;{{text}}&lt;/<span class="pl-ent">view</span>&gt;
&lt;<span class="pl-ent">view</span>&gt;{{array[0].msg}}&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>init data<span class="pl-pds">'</span></span>,
    array<span class="pl-k">:</span> [{msg<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>1<span class="pl-pds">'</span></span>}, {msg<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>2<span class="pl-pds">'</span></span>}]
  }
}</pre></div>
<p>The dynamic <code>data:</code> which is passed over to the view layer is taken from the data attributes in the corresponding <code>Page()</code> function.</p>
<p><strong>Data binding syntax:</strong><br>
Data binding uses <a href="https://mustache.github.io/mustache.5.html">Mustache syntax</a> (double braces) to <strong>wrap variables.</strong> This syntax is a logic less template engine analysis. In short, it is very convenient and easy to use!</p>
<p>WeChat offers lot of possibilities regarding <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/data.html">data binding usage</a>. You have the oportunity to use data binding on component attributes, properties, string operations, arithmetic operations, data path and array.</p>
<h3><a id="user-content-list-loop-rendering-wxfor" class="anchor" href="#list-loop-rendering-wxfor" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>List loop rendering: wx:for</h3>
<p>The <code>wx:for</code> control property binds an array from your logical layer (.js file), loops through it and assigns the data.</p>
<p><strong><code>Code snippet "wx:for" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">wx:for</span>=<span class="pl-s"><span class="pl-pds">"</span>{{array}}<span class="pl-pds">"</span></span>&gt;
  {{index}}: {{item.message}}
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    array<span class="pl-k">:</span> [{
      message<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>foo<span class="pl-pds">'</span></span>
    }, {
      message<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>bar<span class="pl-pds">'</span></span>
    }]
  }
})</pre></div>
<p>Similar to <code>&lt;view wx:for&gt;</code> you can use <strong><code>&lt;block wx:for&gt;</code></strong> to render <strong>multiple lines</strong> block. (See <a href="#wxml---html-whats-the-deal">block</a> in the WXML table above).</p>
<p><strong><code>Code snippet "block wx:for" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">block</span> <span class="pl-e">wx:for</span>=<span class="pl-s"><span class="pl-pds">"</span>{{array}}<span class="pl-pds">"</span></span> <span class="pl-e">wx:for-item</span>=<span class="pl-s"><span class="pl-pds">"</span>array-item<span class="pl-pds">"</span></span> <span class="pl-e">wx:key</span>=<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>card<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>card-description<span class="pl-pds">"</span></span>&gt;
    &lt;/<span class="pl-ent">view</span>&gt;
  &lt;/<span class="pl-ent">view</span>&gt;
&lt;/<span class="pl-ent">block</span>&gt;</pre></div>
<p>For more details on the code above see this <a href="https://github.com/apelegri/wagonform-wechat-mp/tree/master/pages/form">Github repository</a>.</p>
<p><strong>Further resources:</strong></p>
<ul>
<li>For more details about list rendering refer to <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/list.html">WeChat documentation </a>.</li>
</ul>
<h3><a id="user-content-conditional-rendering-wxif-wxelif-wxelse" class="anchor" href="#conditional-rendering-wxif-wxelif-wxelse" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conditional rendering: wx:if, wx:elif, wx:else</h3>
<p>Similar to <code>wx:for</code>, <strong><code>wx:if</code></strong> is used to define a conditional statement and determine whether the block should be rendered or not.</p>
<p><strong><code>Code snippet "wx:if" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> Add additional conditions wx:elif ; wx:else <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">wx:if</span>=<span class="pl-s"><span class="pl-pds">"</span>{{length &gt; 5}}<span class="pl-pds">"</span></span>&gt; 1 &lt;/<span class="pl-ent">view</span>&gt;
&lt;<span class="pl-ent">view</span> <span class="pl-e">wx:elif</span>=<span class="pl-s"><span class="pl-pds">"</span>{{length &gt; 2}}<span class="pl-pds">"</span></span>&gt; 2 &lt;/<span class="pl-ent">view</span>&gt;
&lt;<span class="pl-ent">view</span> <span class="pl-e">wx:else</span>&gt; 3 &lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    length<span class="pl-k">:</span> <span class="pl-c1">10</span>
  }
})</pre></div>
<p>If you want to display <strong>more than one tag</strong> within your <strong>conditional statement block</strong> you can use <strong><code>&lt;block wx:if&gt;</code></strong>.</p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">block</span> <span class="pl-e">wx:if</span>=<span class="pl-s"><span class="pl-pds">"</span>{{true}}<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">view</span>&gt; view1 &lt;/<span class="pl-ent">view</span>&gt;
 &lt;<span class="pl-ent">view</span>&gt; view2 &lt;/<span class="pl-ent">view</span>&gt;
&lt;/<span class="pl-ent">block</span>&gt;</pre></div>
<p>Dig further in <code>wx:if</code> <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/conditional.html">WeChat documentation</a>.</p>
<h3><a id="user-content-template" class="anchor" href="#template" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Template</h3>
<p>Templates allow to define code snippets you want to reuse several times in different files of your mini-program.</p>
<p>WXML template item has its own scope and can only use data to pass in.</p>
<h4><a id="user-content-define-a-template" class="anchor" href="#define-a-template" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Define a template</h4>
<p>First, to declare a template you need to define its name.</p>
<p><strong><code>Code snippet "template" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>msgItem<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">view</span>&gt;
    &lt;<span class="pl-ent">text</span>&gt; {{index}}: {{msg}} &lt;/<span class="pl-ent">text</span>&gt;
    &lt;<span class="pl-ent">text</span>&gt; Time: {{time}} &lt;/<span class="pl-ent">text</span>&gt;
  &lt;/<span class="pl-ent">view</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;

<span class="pl-c"><span class="pl-c">&lt;!--</span> Call the template <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">template</span> <span class="pl-e">is</span>=<span class="pl-s"><span class="pl-pds">"</span>msgItem<span class="pl-pds">"</span></span> <span class="pl-e">data</span>=<span class="pl-s"><span class="pl-pds">"</span>{{item}}<span class="pl-pds">"</span></span>/&gt;</pre></div>
<p>Later on if you want to call a template within the same file use the <strong><code>is</code> attribute</strong> and the <strong>template name as a value</strong> to declare the required template. And don't forget to pass data to the template using the <code>data</code> attribute.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    item<span class="pl-k">:</span> {
      index<span class="pl-k">:</span> <span class="pl-c1">0</span>,
      msg<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>this is a template<span class="pl-pds">'</span></span>,
      time<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>2017-05-18<span class="pl-pds">'</span></span>
    }
  }
})</pre></div>
<h4><a id="user-content-import-a-template" class="anchor" href="#import-a-template" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import a template</h4>
<p>To declare a template already defined in a new file you first need to import it.</p>
<p><strong><code>Code snippet "define a template in a specific file" exemple</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> item.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>item<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">text</span>&gt;{{text}}&lt;/<span class="pl-ent">text</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;</pre></div>
<p><strong><code>Code snippet "import and call the template in index.wxml" exemple</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> index.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">import</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>item.wxml<span class="pl-pds">"</span></span>/&gt;
&lt;<span class="pl-ent">template</span> <span class="pl-e">is</span>=<span class="pl-s"><span class="pl-pds">"</span>item<span class="pl-pds">"</span></span> <span class="pl-e">data</span>=<span class="pl-s"><span class="pl-pds">"</span>{{text: 'forbar'}}<span class="pl-pds">"</span></span>/&gt;</pre></div>
<p>More details on the WeChat documentation <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/template.html">here</a>.</p>
<h3><a id="user-content-events" class="anchor" href="#events" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Events</h3>
<h4><a id="user-content-event-handler" class="anchor" href="#event-handler" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event handler</h4>
<p>In addition to data initialization and life cycle functions, the framework allows to define <strong>event handling functions.</strong></p>
<p>WXML element (event handler) triggers the event and the <strong>logical layer binds the event handler</strong> to receive an event object as a parameter.</p>
<p><strong><code>Code snippet "event handler" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>add<span class="pl-pds">"</span></span>&gt;Incrementation: {{count}}&lt;/<span class="pl-ent">button</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    count<span class="pl-k">:</span> <span class="pl-c1">1</span>
  },
  <span class="pl-en">add</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      count<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-c1">data</span>.<span class="pl-smi">count</span> <span class="pl-k">+</span> <span class="pl-c1">1</span>
    })
  }
})</pre></div>
<p><strong><code>setData()</code> :</strong>
This function <strong>updates data</strong> within the logical layer which next will be send to the view layer.
<code>setData()</code> function receives an object as a parameter and updates the key value by using <code>this.data</code> as a <strong>data path.</strong></p>
<h4><a id="user-content-event-binding" class="anchor" href="#event-binding" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event binding</h4>
<p>There are many kind of binding events, most components have their own definition of binding event.</p>
<p><strong>Components binding events:</strong></p>
<ul>
<li><strong><code>bindsubmit</code></strong> for a fom.</li>
<li><strong><code>bindinput</code></strong> for an input.</li>
<li><strong><code>bindscroll</code></strong>  for a scroll-view.</li>
</ul>
<p><strong><code>Code snippet "form binding event" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> form.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">form</span> <span class="pl-e">bindsubmit</span>=<span class="pl-s"><span class="pl-pds">"</span>bindFormSubmit<span class="pl-pds">"</span></span>&gt;
  <span class="pl-c"><span class="pl-c">&lt;!--</span> Form inputs <span class="pl-c">--&gt;</span></span>
  &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">form-type</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span>&gt;Submit&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">form</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> form.js</span>
<span class="pl-c"><span class="pl-c">//</span> Form submission function</span>
<span class="pl-en">Page</span>({
 <span class="pl-en">bindFormSubmit</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
   <span class="pl-c"><span class="pl-c">//</span> Treatment</span>
 }
})</pre></div>
<p><strong>Classic binding events:</strong></p>
<ul>
<li><strong><code>bind+event_type</code></strong></li>
<li><strong><code>catch+event_type</code></strong></li>
</ul>
<p><strong><code>Code snippet "data binding illustration" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">button</span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>ontap<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span>&gt;Tap&lt;<span class="pl-ent">button</span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-en">Page</span>({
  <span class="pl-en">ontap</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>tap<span class="pl-pds">'</span></span>);
  }
})</pre></div>
<p>The two common binding events used are <code>bind+event_type</code> and <code>catch+event_type</code>. The <strong>catch event</strong> is the one that prevent against bubbling events.</p>
<p><strong>Bubbling event concept:</strong><br>
For non-javascript folks, <strong>bubbling event</strong> can be defined when an event occurs in <strong>an element nested in another element.</strong> Both the parent node and the nested elements are <strong>registered as event handler</strong> for that particular event.
The parent node of the nested element should use <code>catch+event_type</code>, which will <strong>prevent the event from bubbling to ancestor elements.</strong></p>
<p><strong><code>Code snippet "counteract bubbling effect with catchtap" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>outter<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>handleTap1<span class="pl-pds">"</span></span>&gt;
  outer view
  &lt;<span class="pl-ent">view</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>middle<span class="pl-pds">"</span></span> <span class="pl-e">catchtap</span>=<span class="pl-s"><span class="pl-pds">"</span>handleTap2<span class="pl-pds">"</span></span>&gt;
    middle view
    &lt;<span class="pl-ent">view</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>inner<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>handleTap3<span class="pl-pds">"</span></span>&gt;
      inner view
    &lt;/<span class="pl-ent">view</span>&gt;
  &lt;/<span class="pl-ent">view</span>&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  <span class="pl-en">handleTap1</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>outter<span class="pl-pds">'</span></span>)
  },
  <span class="pl-en">handleTap3</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>inner<span class="pl-pds">'</span></span>)
  },
  <span class="pl-en">handleTap2</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>middle<span class="pl-pds">'</span></span>)
  }
})</pre></div>
<p>Mostly used when you nest elements and don’t want to display the parent node of the element you bind.</p>
<h4><a id="user-content-event-types-classification" class="anchor" href="#event-types-classification" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event types classification</h4>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/event-types.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/event-types.png" alt="event types list" style="max-width:100%;"></a></p>
<p><strong><code>Code snippet "tap and longtap event binding" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> index.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">button</span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>ontap<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span>&gt;Tap&lt;<span class="pl-ent">button</span>/&gt;
&lt;<span class="pl-ent">button</span> <span class="pl-e">bindlongtap</span>=<span class="pl-s"><span class="pl-pds">"</span>onlongtap<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span>&gt;Long tap&lt;<span class="pl-ent">button</span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> index.js</span>
<span class="pl-en">Page</span>({
  <span class="pl-en">ontap</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>tap<span class="pl-pds">'</span></span>);
  },
  <span class="pl-en">onlongtap</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>longtap<span class="pl-pds">'</span></span>);
  }
})</pre></div>
<h3><a id="user-content-mini-program-sharing" class="anchor" href="#mini-program-sharing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mini-program sharing</h3>
<p>Here are practical tips to enable the mini-program sharing.
WeChat opens up two ways to share a mini-program:</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/forward-mp.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/forward-mp.png" alt="forwarding opportunity" style="max-width:100%;"></a></p>
<ol>
<li>
<p>Possibility to <strong>enable the forward button</strong> within the <strong>drop-down menu</strong> that appears by clicking on the <strong>upper right corner</strong> <code>...</code> of the page.</p>
</li>
<li>
<p><strong>Create a forward button within the page</strong> of your mini-program. It makes the sharing process more user friendly.</p>
</li>
</ol>
<p>In both variants, the framework will <strong>automatically</strong> forward a mini-program card with a <strong>screen shot</strong> of your MP header.</p>
<h4><a id="user-content-enable-the-forward-button-of-the-drop-down-menu" class="anchor" href="#enable-the-forward-button-of-the-drop-down-menu" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable the forward button of the drop-down menu</h4>
<p>To enable this button we need to use  a <code>Page()</code>function called <code>onShareAppMessage</code>.</p>
<p><strong><code>Code snippet "Enable the forward button of the drop-down menu" example.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> index.js</span>
<span class="pl-en">onShareAppMessage</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">return</span> {
      title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Le Wagon coding school<span class="pl-pds">'</span></span>,
      path<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>pages/index/index<span class="pl-pds">'</span></span>
    }
  },</pre></div>
<p>In this function you have to <strong>define a title</strong> that will be displayed on the top of the forward card and the <strong>current page path</strong>. If you forget to add a title WeChat will add one by default (your mini-program name).</p>
<p><strong>Restriction:</strong>
The only thing that you can define in this case is the <strong>event</strong> <code>onShareAppMessage</code>. The forward button will be <strong>created by the framework</strong> itself.</p>
<h4><a id="user-content-create-a-forward-button-within-the-current-page" class="anchor" href="#create-a-forward-button-within-the-current-page" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a forward button within the current page</h4>
<p>This feature allows developers to create a specific forward button within the page by using the button property <code>open-type</code> and its value <code>'share'</code>.</p>
<p><strong><code>Code snippet "Create a forward button within the page" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> about.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>onShareAppMessage<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>share-btn<span class="pl-pds">"</span></span> <span class="pl-e">open-type</span>=<span class="pl-s"><span class="pl-pds">"</span>share<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span>&gt;Share&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<p>Unlike the first case, we have to <strong>create the event handler</strong> that triggers the <code>onShareAppMessage</code> function. This function calls <code>wx.showShareMenu</code>and pass <code>withShareTicket</code> as a parameter.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> about.js</span>
<span class="pl-en">Page</span>({
  <span class="pl-en">onShareAppMessage</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>share<span class="pl-pds">'</span></span>)
    <span class="pl-smi">wx</span>.<span class="pl-en">showShareMenu</span>({
     withShareTicket<span class="pl-k">:</span> <span class="pl-c1">true</span>
    })
  }
})</pre></div>
<p><strong>Note:</strong> Both variants are using a <code>Page()</code> function which implies that you are sharing the specific page where you declare the function.</p>
<hr>
<h2><a id="user-content-wechat-design-guidelines" class="anchor" href="#wechat-design-guidelines" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeChat design guidelines</h2>
<h3><a id="user-content-weui-basic-front-end-library" class="anchor" href="#weui-basic-front-end-library" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeUI, basic front-end library</h3>
<p>WeChat aims to build a <strong>friendly</strong>, <strong>efficient</strong> and <strong>consistent</strong> user experience. To make it happen WeChat official design team provides a <a href="https://github.com/weui">WeUI repository</a>. This <strong>basic front-end library</strong> (WeUI) is consistent with WeChat native visual experience. WeUI, can be understood as a WeChat front-end library, <strong>similar to Bootstrap</strong>. It includes a <strong>large set of components</strong> such as button, cell, dialog, progress, toast, article, actionsheet, icon and more.</p>
<p><strong>Useful Github repositories:</strong></p>
<ul>
<li>WeUI offcial demo website, WXSS: <a href="https://weui.io/">https://weui.io/</a></li>
<li>WeUI WXSS library: <a href="https://github.com/weui/weui-wxss">https://github.com/weui/weui-wxss</a></li>
<li>WeUI Sketch and Photoshop files: <a href="https://github.com/weui/weui-design">https://github.com/weui/weui-design</a></li>
</ul>
<p><strong>Download WeUI</strong> repository locally through the <code>npm</code>:</p>
<p><code>npm install weui-wxss</code></p>
<p>The downloaded code contains <strong>WeUI source code</strong> and a mini-program sample based on WeUI.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/components-path.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/components-path.png" alt="Components path" style="max-width:100%;"></a></p>
<p><strong>Let's open WeUI mini-program sample in WeChat IDE:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/weui-mp.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/weui-mp.png" alt="Weui mini-program" style="max-width:100%;"></a></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/weui-mini-program.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/weui-mini-program.png" alt="Weui mini-program" style="max-width:100%;"></a></p>
<p><strong>Import WeUI</strong> style in your  <strong>app.wxss</strong> to enable the use of <strong>WeUI style in your mini-program:</strong></p>
<div class="highlight highlight-source-css"><pre><span class="pl-k">@import</span> <span class="pl-s"><span class="pl-pds">"</span>style/weui.wxss<span class="pl-pds">"</span></span>;</pre></div>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/import-weui.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/import-weui.png" alt="WeUI import" style="max-width:100%;"></a></p>
<p>For more details regarding <strong>WeChat design guidelines</strong> you can find <a href="https://mp.weixin.qq.com/debug/wxadoc/design/#%E5%8F%8B%E5%A5%BD%E7%A4%BC%E8%B2%8C">here the full documentation</a>.</p>
<h3><a id="user-content-wxss" class="anchor" href="#wxss" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WXSS</h3>
<p>WXSS has almost all of the features CSS has.
The style sheet defined in <strong>app.wxss</strong> is the common style rules identified on each page. The style sheet defined in a particular page is a local style that acts only on the current page and thus <strong>overwrites same selectors</strong> used in <strong>app.wxss</strong>.
WXSS compared to CSS has <strong>two major differences:</strong></p>
<ul>
<li>Size unit</li>
<li>Style import</li>
<li>Selectors supported</li>
</ul>
<h4><a id="user-content-size-unit" class="anchor" href="#size-unit" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Size unit</h4>
<p>WXSS uses <code>rpx</code> (responsive pixel) as unit. It allows to adjust pixels according to the width of the screen.  You may continue to use the classic <code>px</code> unit (just not the WeChat way of doing things).
<code>(1rpx = 0.5px ; 1px = 2rpx)</code></p>
<h4><a id="user-content-style-import" class="anchor" href="#style-import" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Style import</h4>
<p>To <strong>import outbound</strong> style sheet use <code>@import</code> statement followed by the <strong>relative path</strong> and a <code>;</code> at the end of the statement.</p>
<p><strong><code>Code snippet "@import" example.</code></strong></p>
<div class="highlight highlight-source-css"><pre><span class="pl-c"><span class="pl-c">/*</span> app.wxss<span class="pl-c">*/</span></span>
<span class="pl-k">@import</span> <span class="pl-s"><span class="pl-pds">"</span>outbound.wxss<span class="pl-pds">"</span></span>;</pre></div>
<h4><a id="user-content-selectors-supported" class="anchor" href="#selectors-supported" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Selectors supported</h4>
<p>WeChat framework cannot support lot of standard <strong>CSS</strong> selectors, such as cascading selector.</p>
<p><strong>Supported selectors:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/selectors-wxss.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/selectors-wxss.png" alt="WXSS selectors" style="max-width:100%;"></a></p>
<p><strong>WeChat recommendation:</strong></p>
<ul>
<li>In development use Iphone 6 device as a standard visual. You may have some glitches on smaller screens.</li>
</ul>
<hr>
<h2><a id="user-content-built-in-components" class="anchor" href="#built-in-components" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Built-in components</h2>
<p>WeChat framework provides to developers a large set of basic components, the <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/">exhaustive list of components is here</a>.</p>
<h3><a id="user-content-navigator" class="anchor" href="#navigator" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Navigator</h3>
<p><code>&lt;navigator&gt;</code> is your anchor in html. It is used to link from  one page to another. The most important attribute of the navigator element is <code>open-type</code>.</p>
<p><strong><code>Code snippet "navigator" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn-area<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">navigator</span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>/pages/index/index<span class="pl-pds">"</span></span> <span class="pl-e">hover-class</span>=<span class="pl-s"><span class="pl-pds">"</span>navigator-hover<span class="pl-pds">"</span></span>&gt;text&lt;/<span class="pl-ent">navigator</span>&gt;
  &lt;<span class="pl-ent">navigator</span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>/pages/form/form<span class="pl-pds">"</span></span> <span class="pl-e">open-type</span>=<span class="pl-s"><span class="pl-pds">"</span>redirect<span class="pl-pds">"</span></span> <span class="pl-e">hover-class</span>=<span class="pl-s"><span class="pl-pds">"</span>other-navigator-hover<span class="pl-pds">"</span></span>&gt;text&lt;/<span class="pl-ent">navigator</span>&gt;
  &lt;<span class="pl-ent">navigator</span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>/pages/index/index<span class="pl-pds">"</span></span> <span class="pl-e">open-type</span>=<span class="pl-s"><span class="pl-pds">"</span>switchTab<span class="pl-pds">"</span></span> <span class="pl-e">hover-class</span>=<span class="pl-s"><span class="pl-pds">"</span>other-navigator-hover<span class="pl-pds">"</span></span>&gt;tab switching&lt;/<span class="pl-ent">navigator</span>&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<p><strong>Navigator attributes description:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/navigator-table.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/navigator-table.png" alt="navigator attributes description" style="max-width:100%;"></a></p>
<p><strong>Open type values description:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/open-type-table.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/open-type-table.png" alt="open type value description" style="max-width:100%;"></a></p>
<h3><a id="user-content-picker" class="anchor" href="#picker" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Picker</h3>
<p>Picker component in WeChat documentation is divided in three selectors, <strong>classic selector</strong> which is the default one, <strong>time selector</strong> and <strong>date selector</strong>.</p>
<p>The use case below is based on a date picker but the logic remains the same for another picker.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/date-picker.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/date-picker.png" alt="open type value description" style="max-width:100%;"></a></p>
<p><strong><code>Code snippet "date picker" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">picker</span> <span class="pl-e">mode</span>=<span class="pl-s"><span class="pl-pds">"</span>date<span class="pl-pds">"</span></span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span>{{date}}<span class="pl-pds">"</span></span> <span class="pl-e">start</span>=<span class="pl-s"><span class="pl-pds">"</span>2015-09-01<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>2020-09-01<span class="pl-pds">"</span></span> <span class="pl-e">bindchange</span>=<span class="pl-s"><span class="pl-pds">"</span>bindDateChange<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>picker<span class="pl-pds">"</span></span>&gt;
    Now the date is {{date}}
 &lt;/<span class="pl-ent">view</span>&gt;
&lt;/<span class="pl-ent">picker</span>&gt;
</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    date<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>2017-05-20<span class="pl-pds">'</span></span>
  },
  <span class="pl-en">bindDateChange</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      date<span class="pl-k">:</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>
    })
  }
})</pre></div>
<p><strong>Date selector attributes:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/date-picker-table.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/date-picker-table.png" alt="date picker description" style="max-width:100%;"></a></p>
<h3><a id="user-content-switch" class="anchor" href="#switch" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Switch</h3>
<p>A switch is a visual toggle with two states, on and off.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/switch-img.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/switch-img.png" alt="switch image" style="max-width:100%;"></a>
​</p>
<p><strong><code>Code snippet "switch" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>body-view<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">switch</span> <span class="pl-e">checked</span> <span class="pl-e">bindchange</span>=<span class="pl-s"><span class="pl-pds">"</span>switch1Change<span class="pl-pds">"</span></span>/&gt;
  &lt;<span class="pl-ent">switch</span> <span class="pl-e">bindchange</span>=<span class="pl-s"><span class="pl-pds">"</span>switch2Change<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  <span class="pl-en">switch1Change</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>){
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>switch1 a change event occurs with the value<span class="pl-pds">'</span></span>, <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>)
  },
  <span class="pl-en">switch2Change</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>){
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>switch2 a change event occurs with the value<span class="pl-pds">'</span></span>, <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>)
  }
})</pre></div>
<p><strong>Switch attributes:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/switch-table.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/switch-table.png" alt="switch table" style="max-width:100%;"></a></p>
<h3><a id="user-content-toast" class="anchor" href="#toast" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Toast</h3>
<p>A toast is a non-modal element used to display brief and auto-expiring components to <strong>inform users.</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/toast-img.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/toast-img.png" alt="switch image" style="max-width:100%;"></a></p>
<p>In the code snippet below we are faking a form submission to show how a toast is working and display.</p>
<p><strong><code>Code snippet "spinner btn and toast" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">form</span> <span class="pl-e">bindsubmit</span>=<span class="pl-s"><span class="pl-pds">"</span>bindFormSubmit<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">form-type</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">loading</span>=<span class="pl-s"><span class="pl-pds">"</span>{{loading}}<span class="pl-pds">"</span></span>&gt;Send&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">form</span>&gt;</pre></div>
<p>In the code snippet above we created a <strong>dynamic button</strong> with a <strong>purpose of  submitting a form</strong>. The button is animated
by a <a href="https://weui.io/#loadmore">loading spinner</a> when you click on it.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/btn-spinner.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/btn-spinner.png" alt="switch image" style="max-width:100%;"></a></p>
<p>Then we display a toast  by using <code>wx.showToast</code> API  to inform users.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    loading<span class="pl-k">:</span> <span class="pl-c1">false</span>
  },
  <span class="pl-en">bindFormSubmit</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
    <span class="pl-c"><span class="pl-c">//</span> Enable loading animation on send btn</span>
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      loading<span class="pl-k">:</span> <span class="pl-k">!</span><span class="pl-c1">this</span>.<span class="pl-c1">data</span>.<span class="pl-smi">loading</span>
    })
    <span class="pl-c"><span class="pl-c">//</span> Loading toast</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">showToast</span>({
      title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Sending...<span class="pl-pds">'</span></span>,
      icon<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>loading<span class="pl-pds">'</span></span>,
      duration<span class="pl-k">:</span> <span class="pl-c1">1500</span>
    })
  }
})</pre></div>
<h3><a id="user-content-modal" class="anchor" href="#modal" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modal</h3>
<p>A modal box allows to <strong>overlay a small element over a page</strong>. The primary benefit of modal boxes it that they avoid the need to use of conventional window pop-ups or page reloads.</p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/modal-img.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/modal-img.png" alt="modal image" style="max-width:100%;"></a></p>
<p>There are five situational categories where modal boxes are commonly used:</p>
<ul>
<li><strong>Error:</strong> To alert users of an error.</li>
<li><strong>Warning:</strong> To warn users of potentially harmful situations.</li>
<li><strong>Data:</strong> To collect data from users.</li>
<li><strong>Confirm or Prompt:</strong> To remind users to do something before moving on.</li>
<li><strong>Helper:</strong> To inform users of important information.</li>
</ul>
<p><strong><code>Code snippet "modal to inform" example.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">wx</span>.<span class="pl-en">showModal</span>({
   title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Modal title<span class="pl-pds">'</span></span>,
   content<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Modal content <span class="pl-pds">'</span></span>,
   confirmText<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Ok<span class="pl-pds">"</span></span>,
   showCancel<span class="pl-k">:</span> <span class="pl-c1">false</span>,
   <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
      <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>)
   }
 })</pre></div>
<p><strong>Modal parameters:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/modal-parameters.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/modal-parameters.png" alt="modal parameters" style="max-width:100%;"></a></p>
<h3><a id="user-content-map" class="anchor" href="#map" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Map</h3>
<p>The <code>map</code> component is a native component, it has a long list of attributes, we will go through the major ones. Here is the link to <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/map.html">WeChat documenation</a> for more details.</p>
<p><strong><code>map</code> attribute list:</strong></p>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/map.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/map.png" alt="map attributes" style="max-width:100%;"></a></p>
<p><strong><code>Code snippet "map component" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">map</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>map<span class="pl-pds">"</span></span> <span class="pl-e">longitude</span>=<span class="pl-s"><span class="pl-pds">"</span>113.324520<span class="pl-pds">"</span></span> <span class="pl-e">latitude</span>=<span class="pl-s"><span class="pl-pds">"</span>23.099994<span class="pl-pds">"</span></span> <span class="pl-e">scale</span>=<span class="pl-s"><span class="pl-pds">"</span>14<span class="pl-pds">"</span></span> <span class="pl-e">controls</span>=<span class="pl-s"><span class="pl-pds">"</span>{{controls}}<span class="pl-pds">"</span></span> <span class="pl-e">bindcontroltap</span>=<span class="pl-s"><span class="pl-pds">"</span>controltap<span class="pl-pds">"</span></span> <span class="pl-e">markers</span>=<span class="pl-s"><span class="pl-pds">"</span>{{markers}}<span class="pl-pds">"</span></span> <span class="pl-e">bindmarkertap</span>=<span class="pl-s"><span class="pl-pds">"</span>markertap<span class="pl-pds">"</span></span> <span class="pl-e">polyline</span>=<span class="pl-s"><span class="pl-pds">"</span>{{polyline}}<span class="pl-pds">"</span></span> <span class="pl-e">bindregionchange</span>=<span class="pl-s"><span class="pl-pds">"</span>regionchange<span class="pl-pds">"</span></span> <span class="pl-e">show-location</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>width: 100%; height: 300px;<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">map</span>&gt;</pre></div>
<p>Refer to the <a href="#location-based-services">Location-based services</a> part of the wiki if you want to have a look on location-based services WeChat is offering through the API.</p>
<p><strong>WeChat recommendations:</strong></p>
<ul>
<li>Do not use scroll-view on map component.</li>
<li>CSS animation on the map component is invalid.</li>
<li><code>wx.getLocation</code> need to specify <code>type</code> as <code>gcj02</code></li>
</ul>
<hr>
<h2><a id="user-content-leancloud-db" class="anchor" href="#leancloud-db" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Leancloud DB</h2>
<p>This section aims to explain the different <strong>steps you have to follow</strong> if you want to <strong>persist your app data and fetch data</strong> on a database. We selected Leancloud.cn for the simplicity of its installation for beginners.</p>
<p><strong>Some context first:</strong>
The example below is based on a Mini-program aimed at gathering feedbacks through a simple form. This mini-program persists the data collected on Leancloud.cn. We will explain how to fetch and display data stored on the DB. To illustrate this second section (fetch data) we created a new page that displays all reviews stored on Leancloud.</p>
<p>Here is the <a href="https://github.com/apelegri/wagonform-wechat-mp">Github repository</a> of the project used to create this tutorial.</p>
<p><strong>Specs:</strong></p>
<ol>
<li><a href="#create-a-form">Create a form</a>.</li>
<li><a href="#install-and-initialize-leancloud">Setup Leancloud</a> in your mini-program.</li>
<li><a href="#create-an-object-and-encapsulate-data">Create an object and encapsulate data</a> you want to persist.</li>
<li>Create your table within <a href="#leancloud-dashboard">Leancloud dashboard</a>.</li>
<li>Create a new review page and a button to redirect users to this review page.</li>
<li><a href="#fetch-data-stored-on-leancloud">Fetch data</a> from Leancloud and display reviews.</li>
</ol>
<h3><a id="user-content-1-create-a-form" class="anchor" href="#1-create-a-form" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Create a form</h3>
<p><strong><code>Code snippet "create a form" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> pages/form/form.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">form</span> <span class="pl-e">bindsubmit</span>=<span class="pl-s"><span class="pl-pds">"</span>bindFormSubmit<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">view</span>&gt;About the workshop&lt;/<span class="pl-ent">view</span>&gt;
  &lt;<span class="pl-ent">view</span>&gt;Generally how was this workshop?&lt;/<span class="pl-ent">view</span>&gt;
  &lt;<span class="pl-ent">text</span>&gt;Hints: takeaway, speed, time, location, people...&lt;/<span class="pl-ent">text</span>&gt;
  &lt;<span class="pl-ent">view</span>&gt;
   &lt;<span class="pl-ent">textarea</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>review<span class="pl-pds">"</span></span> <span class="pl-e">maxlength</span>=<span class="pl-s"><span class="pl-pds">"</span>-1<span class="pl-pds">"</span></span> /&gt;
  &lt;/<span class="pl-ent">view</span>&gt;
  <span class="pl-c"><span class="pl-c">&lt;!--</span> Refer to the Github repository above if you want the complete form <span class="pl-c">--&gt;</span></span>
  &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">form-type</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span>&gt;Send&lt;/<span class="pl-ent">button</span>&gt;
 &lt;/<span class="pl-ent">form</span>&gt;</pre></div>
<p>When the <strong>structure of the form</strong> is created as above, next we need to <strong>create the event</strong>  which is trigerred by the form submission.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span>pages/form/form.js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span>{
    loading<span class="pl-k">:</span> <span class="pl-c1">false</span>,
  },
  <span class="pl-c"><span class="pl-c">//</span> Form Submission</span>
  <span class="pl-en">bindFormSubmit</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    <span class="pl-c"><span class="pl-c">//</span> Local storage</span>
    <span class="pl-k">var</span> review <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>.<span class="pl-smi">review</span>
    <span class="pl-c"><span class="pl-c">//</span> ...</span>
  }
})</pre></div>
<p><strong>Local storage:</strong>
In the <code>bindFormSubmit</code> function, we assigned user's inputs to local variables in the purpose of testing if we can collect form's user inputs locally.</p>
<h3><a id="user-content-2-install-and-initialize-leancloud" class="anchor" href="#2-install-and-initialize-leancloud" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Install and initialize Leancloud</h3>
<p>Before we begin the installation, if you are in development  white list your domain name by checking up the last checkbox of the project interface within your <a href="#wechat-ide">WeChat IDE</a>  . For specific debugging needs you can follow this <a href="https://leancloud.cn/docs/weapp-domains.html">Leancloud tutorial</a>.</p>
<p>To get started with Leancloud setup, first <a href="https://leancloud.cn/dashboard/login.html#/signup">create an account</a> on Leancloud.</p>
<p>Now that you are ready for the installation and initialization of Leancloud in your mini-program you can follow their <a href="https://leancloud.cn/docs/weapp.html#%E5%AD%98%E5%82%A8">documentation</a> that will let you go through a <strong>two-step process:</strong></p>
<ul>
<li>The installation of the <strong>av-weapp-min.js</strong>  in your  <strong>utils</strong> folder.</li>
<li>The initialization of  the app by adding Leancloud <code>appId</code> and <code>appKey</code> in your <strong>app.js</strong>.</li>
</ul>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> app.js</span>
<span class="pl-c"><span class="pl-c">//</span> Require Leancloud library (the av-weapp-min.js file you just add).</span>
<span class="pl-k">const</span> <span class="pl-c1">AV</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./utils/av-weapp-min.js<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-c">//</span> Initialization of the app</span>
<span class="pl-c1">AV</span>.<span class="pl-en">init</span>({
 appId<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>t6hUVJfOwjHuWXuD9OE06rxxxxxxxxxxxx<span class="pl-pds">'</span></span>,
 appKey<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>HndT17mJ7wAIxsv8uxxxxxxxxxx<span class="pl-pds">'</span></span>,
});</pre></div>
<p>If you are lost refer to the <a href="https://github.com/apelegri/wagonform-wechat-mp">Github repository</a> of the project.</p>
<h3><a id="user-content-3-create-an-object-and-encapsulate-data" class="anchor" href="#3-create-an-object-and-encapsulate-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Create an object and encapsulate data</h3>
<p>In the first place, create a new folder called <strong>model</strong> and <strong>add</strong> a <code>form.js</code> file to this folder. Named your file in accordance with the kind of object you want to persist, in this case a <strong>form.</strong> This step is not required but permits to keep your <strong>files organised.</strong></p>
<p><strong>Let's create the object:</strong>
In the <strong>form.js</strong> file you just created, require <strong>av-weapp-min.js</strong>  you installed in <strong>util.js</strong> and assigns it to an <code>AV</code> constant. Then instantiate the <code>Form</code> object.</p>
<p><strong><code>Code snippet "require Leancloud and create an object" example.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> model/form.js</span>
<span class="pl-k">const</span> <span class="pl-c1">AV</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../utils/av-weapp-min.js<span class="pl-pds">'</span></span>);
<span class="pl-k">class</span> <span class="pl-en">Form</span> <span class="pl-k">extends</span> <span class="pl-e">AV</span>.<span class="pl-smi">Object</span> {
}
<span class="pl-c"><span class="pl-c">//</span> Register object</span>
<span class="pl-c1">AV</span>.<span class="pl-smi">Object</span>.<span class="pl-en">register</span>(Form, <span class="pl-s"><span class="pl-pds">'</span>Form<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-c">//</span> Export object</span>
<span class="pl-c1">module</span>.<span class="pl-smi">exports</span> <span class="pl-k">=</span> Form;</pre></div>
<p>Now that you have instantiated the <code>Form</code> object,  <strong>create the  form object</strong> to <strong>encapsulate data</strong>  in the logical layer (here form.js)  and redirect user after the form submission.</p>
<p><strong><code>Code snippet "bindFormSubmit function" example.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">AV</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../../utils/av-weapp-min.js<span class="pl-pds">'</span></span>);
<span class="pl-k">const</span> <span class="pl-c1">form</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../../model/form.js<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-c">//</span> pages/form/form.js</span>
<span class="pl-en">bindFormSubmit</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
   <span class="pl-c"><span class="pl-c">//</span> Local storage</span>
   <span class="pl-en">console</span>.<span class="pl-c1">log</span>(e)
   <span class="pl-k">var</span> review <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>.<span class="pl-smi">review</span>
  <span class="pl-c"><span class="pl-c">//</span> ...</span>

   <span class="pl-c"><span class="pl-c">//</span> Leancloud permissions</span>
   <span class="pl-k">var</span> acl <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AV.ACL</span>();
   <span class="pl-smi">acl</span>.<span class="pl-en">setPublicReadAccess</span>(<span class="pl-c1">true</span>);
   <span class="pl-smi">acl</span>.<span class="pl-en">setPublicWriteAccess</span>(<span class="pl-c1">true</span>);

   <span class="pl-c"><span class="pl-c">//</span> Leancloud storage</span>
   <span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>(){
     <span class="pl-k">new</span> <span class="pl-en">Form</span>({
       review<span class="pl-k">:</span> review
       <span class="pl-c"><span class="pl-c">//</span> ...</span>
     }).<span class="pl-en">setACL</span>(acl).<span class="pl-en">save</span>().<span class="pl-en">catch</span>(<span class="pl-en">console</span>.<span class="pl-smi">error</span>);

    <span class="pl-c"><span class="pl-c">//</span> Redirect user</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">reLaunch</span>({
      url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>/pages/wagon/wagon?form=1<span class="pl-pds">'</span></span>
    });
    }, <span class="pl-c1">2000</span>);
  }
})</pre></div>
<p><strong>Code snippet debrief:</strong></p>
<ol>
<li>Inside the <code>binFormSubmit</code> function we added <strong>permissions</strong> that allow Leancloud to <strong>read and write through the object</strong> we created and want to persist.</li>
<li>We defined a function <code>setTimeout</code> that <strong>encapsulate data</strong> in the  new <code>Form</code>object and <strong>redirect user</strong> when the form is submitted.</li>
</ol>
<p><strong>Note:</strong> <code>setACL(acl)</code> is a Leancloud <a href="https://leancloud.cn/docs/leanstorage_guide-js.html#%E4%BF%9D%E5%AD%98%E5%AF%B9%E8%B1%A1">built-in property</a>.</p>
<h3><a id="user-content-4-leancloud-dashboard" class="anchor" href="#4-leancloud-dashboard" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Leancloud dashboard</h3>
<p>So far everything is done within your mini-program, what remains to be done is a <strong>projection</strong> of the data collected <strong>within your Leancloud dashboard</strong>.</p>
<ul>
<li><strong>Create a project</strong> in your Leancloud dashboard.</li>
<li><strong>Create a table</strong> in this project by adding the class object you created, such as a <code>Form</code> class in this exemple.</li>
<li><strong>Add columns</strong> to your table (be cautionous on the data type you specify when you add your columns).</li>
</ul>
<p><strong>Test it</strong> to be sure that the data collected is persisted within your Leancloud dashboard.</p>
<h3><a id="user-content-5-fetch-data-from-leancloud" class="anchor" href="#5-fetch-data-from-leancloud" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Fetch data from Leancloud</h3>
<p>First let me remind you the background of this section. We want to <strong>display in a new page the list of reviews</strong> we have <strong>collected and persisted on Leancloud</strong>. I assume that you have followed the first section of the tutorial, <a href="#leancloud-db">(if you missed it see above)</a>.</p>
<p><strong>Specs:</strong></p>
<ul>
<li>Create a new page called <code>review</code>.</li>
<li>Fetch data from Leancloud and display all reviews stored.</li>
</ul>
<p>So let's create a new review page and a button that <strong>redirects to review page</strong>.
(<strong>tip:</strong> just add the route path to your <strong>app.json</strong>, the framework will create the new page folder and files by itself).</p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> index.wxml <span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> CTA redirects to review page <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>cta-margin<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">navigator</span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>/pages/review/review<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn-index<span class="pl-pds">"</span></span>&gt;Reviews&lt;/<span class="pl-ent">navigator</span>&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<p>The next step is to <strong>fetch data stored on Leancloud and displays it</strong>.</p>
<p><strong><code>Code snippet "fetch data stored on Leancloud and displays it" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> review.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">block</span> <span class="pl-e">wx:for</span>=<span class="pl-s"><span class="pl-pds">"</span>{{forms}}<span class="pl-pds">"</span></span> <span class="pl-e">wx:for-item</span>=<span class="pl-s"><span class="pl-pds">"</span>form<span class="pl-pds">"</span></span> <span class="pl-e">wx:key</span>=<span class="pl-s"><span class="pl-pds">"</span>objectId<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">text</span> <span class="pl-e">data-id</span>=<span class="pl-s"><span class="pl-pds">"</span>{{form.objectId}}<span class="pl-pds">"</span></span> &gt;
  {{form.review}}
 &lt;/<span class="pl-ent">text</span>&gt;
 &lt;<span class="pl-ent">text</span>&gt;
  - {{form.name}}
 &lt;/<span class="pl-ent">text</span>&gt;
&lt;/<span class="pl-ent">block</span>&gt;</pre></div>
<p>Above we created a <strong>list rendering block</strong> using <code>wx:for</code> that display each review and name of the person who creates the review.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> pages/review/review.js</span>
<span class="pl-c"><span class="pl-c">//</span> Require leancloud and object</span>
<span class="pl-k">const</span> <span class="pl-c1">AV</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../../utils/av-weapp-min.js<span class="pl-pds">'</span></span>);
<span class="pl-k">const</span> <span class="pl-c1">Form</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>../../model/form.js<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-c">//</span> Fetch data from Leancloud</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    forms<span class="pl-k">:</span> {}
  },
  <span class="pl-en">onReady</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">new</span> <span class="pl-en">AV.Query</span>(<span class="pl-s"><span class="pl-pds">'</span>Form<span class="pl-pds">'</span></span>)
      .<span class="pl-en">descending</span>(<span class="pl-s"><span class="pl-pds">'</span>createdAt<span class="pl-pds">'</span></span>)
      .<span class="pl-c1">find</span>()
      .<span class="pl-en">then</span>(<span class="pl-smi">forms</span> <span class="pl-k">=&gt;</span> <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({ forms }))
      .<span class="pl-en">catch</span>(<span class="pl-en">console</span>.<span class="pl-smi">error</span>);
  },
})</pre></div>
<p><strong>Code snippet debrief:</strong></p>
<ol>
<li>We are doing a <strong>query</strong> on the<code>AV</code> object which contains the data stored.</li>
<li>Then we are <strong>sorting out</strong> each form according to its creation date to finish by setting up the <code>forms</code> array.</li>
<li>Display data in the view using the Mustache syntax.</li>
</ol>
<h3><a id="user-content-recommendations" class="anchor" href="#recommendations" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recommendations</h3>
<p>In this use case we have just seen <strong>how to store data</strong> we collect locally to Leancloud and <strong>how to fetch data stored</strong> from Leancloud.</p>
<p>We recommend you to read the <a href="https://leancloud.cn/docs/leanstorage_guide-js.html#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1">Leancloud documentation</a> or check the LeanTodo mini-program created by Leancloud, <a href="https://github.com/leancloud/leantodo-weapp">Github repository</a>.</p>
<h3><a id="user-content-production-domain-name-whitelist" class="anchor" href="#production-domain-name-whitelist" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Production: domain name whitelist</h3>
<p>When you are in production you have to <strong>configure Leancloud domain name</strong> within WeChat platform. <a href="https://leancloud.cn/docs/weapp-domains.html">Follow this leancloud tutorial</a>.</p>
<hr>
<h2><a id="user-content-wechat-api" class="anchor" href="#wechat-api" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WeChat API</h2>
<h3><a id="user-content-get-user-information" class="anchor" href="#get-user-information" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get user information</h3>
<p>All the <strong>user information</strong> you <strong>have access</strong> to through <code>wx.getUserInfo</code>:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">wx</span>.<span class="pl-en">getUserInfo</span>({
  <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">res</span>) {
    <span class="pl-k">var</span> userInfo <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">userInfo</span>
    <span class="pl-k">var</span> nickName <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">nickName</span>
    <span class="pl-k">var</span> avatarUrl <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">avatarUrl</span>
    <span class="pl-k">var</span> gender <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">gender</span> <span class="pl-c"><span class="pl-c">//</span>sex =&gt; 0: unknown ; 1: male ; 2：female</span>
    <span class="pl-k">var</span> province <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">province</span>
    <span class="pl-k">var</span> city <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">city</span>
    <span class="pl-k">var</span> country <span class="pl-k">=</span> <span class="pl-smi">userInfo</span>.<span class="pl-smi">country</span>
  }
})</pre></div>
<p>WeChat "quickstart" (WeChat boilerplate) gives you a <code>getUserInfo</code> function in the <strong>app.js</strong> file. As the name suggests, this function is meant to <strong>obtain user information</strong>. Let’s go through this function step by step.</p>
<p><strong>General description:</strong></p>
<ol>
<li><code>getUserInfo</code> function has a parameter <strong>cb</strong>, which is also a function.</li>
<li>The <code>If</code> block of  <code>getUserInfo</code> function will be passed if <code>userInfo</code> from <code>globalData</code> is not null.</li>
<li>Otherwise <code>userInfo</code> is null, <code>getUserInfo</code> function calls the login interface.</li>
</ol>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> app.js</span>
<span class="pl-en">App</span>({
  <span class="pl-en">getUserInfo</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">cb</span>){
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>){
      <span class="pl-k">typeof</span> cb <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-en">cb</span>(<span class="pl-c1">this</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>)
    }<span class="pl-k">else</span>{
      <span class="pl-c"><span class="pl-c">//</span> Login interface call</span>
      <span class="pl-smi">wx</span>.<span class="pl-en">login</span>({
        <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
          <span class="pl-smi">wx</span>.<span class="pl-en">getUserInfo</span>({
            <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
              <span class="pl-smi">that</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span> <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">userInfo</span>
              <span class="pl-k">typeof</span> cb <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-en">cb</span>(<span class="pl-smi">that</span>.<span class="pl-smi">globalData</span>.<span class="pl-smi">userInfo</span>)
            }
          })
        }
      })
    }
  },
  globalData<span class="pl-k">:</span>{
    userInfo<span class="pl-k">:</span><span class="pl-c1">null</span>
  }
})</pre></div>
<p><strong>First case, <code>userInfo</code> form <code>globalData</code>  is not null</strong></p>
<p>The if condition statement aims to determine if <strong>cb argument</strong> passed to get <code>getUserInfo</code> is a function type and if it is, it will pass <code>userInfo</code>.</p>
<p><strong>How do they figure out if cb parameter is a function?</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> index.js</span>
<span class="pl-k">var</span> app <span class="pl-k">=</span> <span class="pl-en">getApp</span>()
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    userInfo<span class="pl-k">:</span> {},
  },
  <span class="pl-en">onLoad</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>onLoad<span class="pl-pds">'</span></span>)
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-smi">app</span>.<span class="pl-en">getUserInfo</span>(<span class="pl-k">function</span>(<span class="pl-smi">userInfo</span>){
      <span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
        userInfo<span class="pl-k">:</span>userInfo
      })
    })
  }
}</pre></div>
<p><strong>Let's go through this <code>onLoad</code> function of index.js</strong></p>
<ol>
<li>The <code>onLoad</code> function calls  <code>getUserInfo</code>  function <strong>on the app instance</strong>.</li>
<li>They <strong>define a function as a parameter</strong> that update <code>userInfo</code> to current user information.</li>
<li>And pass <code>userInfo</code> updated to <code>globalData</code>  in the <strong>app.js</strong> file.</li>
</ol>
<p><strong>Second case, userInfo is null</strong></p>
<ol>
<li>If <code>userInfo</code> is null <code>getUserInfo</code> function returns the <code>else</code> statement which calls the login interface.</li>
<li>Then the current user successfully log in, <code>getUserInfo</code> is called and act as the <code>if</code> block we saw above.</li>
</ol>
<p>If current user is already log in, <strong>user information are assigned to</strong> <code>globalData</code> through <strong>index.js</strong> page which calls <code>onLaod</code> function. And then the same logic is applied.</p>
<h3><a id="user-content-data-cache" class="anchor" href="#data-cache" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data cache</h3>
<p>Wechat mini-programs have a <strong>mechanism of cache in their API.</strong> In fact, each mini-program has its own <strong>local cache storage.</strong></p>
<p><strong>Reminder:</strong>
Cache storage is used to store data we want to access quickly. It <strong>reduces user waiting time</strong>, since the <strong>request</strong> is satisfied <strong>from the local cache</strong> which is closer to clients compared to the original server used to request your DB.</p>
<p>Cache storage offers <strong>two kind of methods</strong> to store data in the cache:</p>
<ul>
<li>The <strong>synchronous method</strong> ,<code>wx.setStorage</code>:</li>
</ul>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">wx</span>.<span class="pl-en">setStorage</span> ({key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, data<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Thibault<span class="pl-pds">'</span></span>});</pre></div>
<p><code>wx.setStorage</code> build parameters as a json, a key to specify the stored key and data to specify the key value to store.</p>
<ul>
<li>The <strong>asynchronous method</strong>, <code>wx.setStorageSync</code>:</li>
</ul>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">wx</span>.<span class="pl-en">setStorageSync</span> (<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Thibault<span class="pl-pds">'</span></span>);</pre></div>
<p><code>wx.setStorageSync</code> syntax is simpler,  parameters are directly passed. And can get data through the incoming callback function.</p>
<p><strong>WeChat provides three main actions on the cache:</strong></p>
<ul>
<li>Save data in the cache,  <code>wx.setStorage</code>  or <code>wx.setStorageSync</code>.</li>
<li>Read data from the cache,   <code>wx.getStorage</code> or <code>wx.getStorageSync</code>.</li>
<li>Clear data of the cache,  <code>wx.clearStorage</code> or <code>wx.clearStorageSync</code>.</li>
<li>Remove data in the cache, <code>wx.removeStorage</code> or <code>wx.removeStorageSync</code>.</li>
</ul>
<p><strong><code>Code snippet "set cache (synchronous method)" exemple</code></strong>.</p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> index.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">input</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>input<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">"</span>Input data<span class="pl-pds">"</span></span> <span class="pl-e">bindinput</span>=<span class="pl-s"><span class="pl-pds">"</span>inputEvent<span class="pl-pds">"</span></span> /&gt;
&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>warn<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>saveToCache<span class="pl-pds">"</span></span>&gt;Save data to cache&lt;/<span class="pl-ent">button</span>&gt;
&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>jumpToPage<span class="pl-pds">"</span></span>&gt;Jump to another page&lt;/<span class="pl-ent">button</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> index.js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    inputInfo<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>
  },
  <span class="pl-en">jumpToPage</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-smi">wx</span>.<span class="pl-en">navigateTo</span>({
      url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>../show/show<span class="pl-pds">"</span></span>
    });
  },
  <span class="pl-en">inputEvent</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>)
    <span class="pl-c1">this</span>.<span class="pl-en">setData</span>({
      inputInfo<span class="pl-k">:</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>
    })
  },
  <span class="pl-en">saveToCache</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-smi">wx</span>.<span class="pl-en">setStorage</span>({ key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>inputInfo<span class="pl-pds">'</span></span>, data<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-c1">data</span>.<span class="pl-smi">inputInfo</span>,
     <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(res)
     }
   })
  }
})</pre></div>
<p><strong><code>Code snippet "Fetch data from the cache and display data in a new page (synchronous method)" exemple</code></strong>.</p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> show.wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span>&gt;Data you saved to cache:{{inputInfo}}&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> show.js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    inputInfo<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>
  },
  <span class="pl-en">onLoad</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">options</span>) {
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>;
    <span class="pl-smi">wx</span>.<span class="pl-en">getStorage</span>({
      key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>inputInfo<span class="pl-pds">'</span></span>,
      <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(res)
        <span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
          inputInfo<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-c1">data</span>,
        })
      }
    })
  }
})</pre></div>
<h3><a id="user-content-open-the-qr-code-scanner" class="anchor" href="#open-the-qr-code-scanner" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Open the QR code scanner</h3>
<p>You can <strong>call up</strong> your <strong>client code scanner UI</strong> by using the <code>wx.scanCode</code> API. It gives direct access to the WeChat scanner through a CTA button with the aim of scanning a QR code.</p>
<p><strong><code>Code snippet "call up client code scanner" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">view</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn-area<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">button</span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>bindScan<span class="pl-pds">"</span></span>&gt;Scan&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">view</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
 <span class="pl-en">bindScan</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
   <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>scanner<span class="pl-pds">'</span></span>)
   <span class="pl-smi">wx</span>.<span class="pl-en">scanCode</span>({
     <span class="pl-en">success</span><span class="pl-k">:</span> (<span class="pl-smi">res</span>) <span class="pl-k">=&gt;</span> {
      <span class="pl-en">console</span>.<span class="pl-c1">log</span>(res)
    }
  })
 }</pre></div>
<h3><a id="user-content-location-based-services" class="anchor" href="#location-based-services" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Location-based services</h3>
<p>WeChat API provides a full set of location-based services:</p>
<ul>
<li><strong><code>wx.chooseLocation</code></strong> to choose the location you want to display.</li>
<li><strong><code>wx.getLocation</code></strong> to get current user location.</li>
<li><strong><code>wx.openLocation</code></strong> to display location on their <strong>buit-in map view</strong>.</li>
<li><strong><code>wx.createMapContext</code></strong> to personalize your map.</li>
</ul>
<p><strong><code>Code snippet "get location" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>listenerBtnGetLocation<span class="pl-pds">"</span></span>&gt;Get location&lt;/<span class="pl-ent">button</span>&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">listenerBtnGetLocation</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
  <span class="pl-smi">wx</span>.<span class="pl-en">getLocation</span>({
  type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>wgs84<span class="pl-pds">'</span></span>,
  <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">res</span>) {
    <span class="pl-k">var</span> latitude <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">latitude</span>
    <span class="pl-k">var</span> longitude <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">longitude</span>
    <span class="pl-k">var</span> speed <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">speed</span>
    <span class="pl-k">var</span> accuracy <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">accuracy</span>
     <span class="pl-en">console</span>.<span class="pl-c1">log</span>(res)
   }
  })
 }</pre></div>
<p>Above we used the <code>wx.getLocation</code> to retrieve current user  position by getting his <strong>latitude</strong> and <strong>longitude.</strong></p>
<p><strong><code>wx.getLocation</code> further details:</strong>
If a user leaves the mini-program but display on top of his chat the mini-program  you can continue to call  <code>wx.getLocation</code>and so get user location continiously.</p>
<p><strong>Display the current user location on WeChat built-in map:</strong>
<code>wx.openLocation</code>API call, enables the opening  of  WeChat built-in map view in order to display the location you got from <code>listenerBtnGetLocation</code> function we created above.</p>
<p><strong>Note:</strong> <code>wx.openLocation</code> API call, redirects user to a new map window.</p>
<p><strong><code>Code snippet "display the current user location" example.</code></strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">listenerBtnGetLocation</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
 <span class="pl-smi">wx</span>.<span class="pl-en">getLocation</span>({
 type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>wgs84<span class="pl-pds">'</span></span>,
 <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">res</span>) {
   <span class="pl-k">var</span> latitude <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">latitude</span>
   <span class="pl-k">var</span> longitude <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">longitude</span>
   <span class="pl-smi">wx</span>.<span class="pl-en">openLocation</span>({
     latitude<span class="pl-k">:</span> latitude,
     longitude<span class="pl-k">:</span> longitude,
     scale<span class="pl-k">:</span> <span class="pl-c1">28</span>
   })
  }
 })
}</pre></div>
<h3><a id="user-content-image" class="anchor" href="#image" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image</h3>
<p>WeChat image API offers four possibilities:</p>
<ul>
<li><strong><code>wx.chooseImage</code></strong> to choose an image from your album or camera.</li>
<li><strong><code>wx.previewImage</code></strong> to preview the image before the upload on the app.</li>
<li><strong><code>wx.getImageInfo</code></strong> to get image information (height, width, path, src).</li>
<li><strong><code>wx.saveImageToPhotosAlbum</code></strong> to save image from the mini-program to your album.</li>
</ul>
<p>In the example below we create a function  called <code>listenerBtnChooseImage</code> with the aim of calling  user album or camera by using <code>wx.chooseImage</code>.  Then we are using <code>wx.getImageInfo</code> to get image information.</p>
<p><strong><code>Code snippet "upload an image from album or camera" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>primary<span class="pl-pds">"</span></span> <span class="pl-e">bindtap</span>=<span class="pl-s"><span class="pl-pds">"</span>listenerBtnChooseImage<span class="pl-pds">"</span></span>&gt;Upload Image&lt;/<span class="pl-ent">button</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> Display the image user upload <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">image</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>{{src}}<span class="pl-pds">"</span></span> <span class="pl-e">mode</span>=<span class="pl-s"><span class="pl-pds">"</span>aspecFill<span class="pl-pds">"</span></span>  <span class="pl-e">bindlongtap</span>=<span class="pl-s"><span class="pl-pds">"</span>imgLongTap<span class="pl-pds">"</span></span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    src<span class="pl-k">:</span> []
  },
  <span class="pl-en">listenerBtnChooseImage</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-c"><span class="pl-c">//</span> Upload an image</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">chooseImage</span>({
      count<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      sizeType<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>original<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>compressed<span class="pl-pds">'</span></span>],
      sourceType<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>album<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>camera<span class="pl-pds">'</span></span>],
      <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>)
        <span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
          src<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-smi">tempFilePaths</span>
        })
        <span class="pl-c"><span class="pl-c">//</span> Get image info</span>
        <span class="pl-smi">wx</span>.<span class="pl-en">getImageInfo</span>({
          src<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-smi">tempFilePaths</span>[<span class="pl-c1">0</span>],
          <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-c1">width</span>)
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-c1">height</span>)
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-smi">path</span>)
          }
        })
       }
     })
   }
})</pre></div>
<p>Now that we have an image on the page let's save the image from the mini-program to current user album by long tapping the image.</p>
<p><strong><code>Code snippet "long tap the image to save it within user album" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">image</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>{{src}}<span class="pl-pds">"</span></span> <span class="pl-e">mode</span>=<span class="pl-s"><span class="pl-pds">"</span>aspecFill<span class="pl-pds">"</span></span>  <span class="pl-e">bindlongtap</span>=<span class="pl-s"><span class="pl-pds">"</span>imgLongTap<span class="pl-pds">"</span></span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    src<span class="pl-k">:</span> []
  },
  <span class="pl-en">listenerBtnChooseImage</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-c"><span class="pl-c">//</span> Upload an image</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">chooseImage</span>({
      count<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      sizeType<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>original<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>compressed<span class="pl-pds">'</span></span>],
      sourceType<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>album<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>camera<span class="pl-pds">'</span></span>],
      <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>)
        <span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
          src<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-smi">tempFilePaths</span>
        })
        <span class="pl-c"><span class="pl-c">//</span> Get image info</span>
        <span class="pl-smi">wx</span>.<span class="pl-en">getImageInfo</span>({
          src<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-smi">tempFilePaths</span>[<span class="pl-c1">0</span>],
          <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">res</span>) {
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-c1">width</span>)
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-c1">height</span>)
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">res</span>.<span class="pl-smi">path</span>)
          }
        })
       }
     })
   } ,
   <span class="pl-c"><span class="pl-c">//</span> Longtap function</span>
   <span class="pl-en">imgLongTap</span><span class="pl-k">:</span> <span class="pl-k">function</span> (){
      <span class="pl-c"><span class="pl-c">//</span> Save image to album</span>
      <span class="pl-smi">wx</span>.<span class="pl-en">saveImageToPhotosAlbum</span>({
        filePath<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-c1">data</span>.<span class="pl-smi">src</span>,
        <span class="pl-en">success</span>(<span class="pl-smi">res</span>) {
          <span class="pl-smi">wx</span>.<span class="pl-en">showToast</span>({
            title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Save<span class="pl-pds">'</span></span>,
            icon<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>,
            duration<span class="pl-k">:</span> <span class="pl-c1">1500</span>
          })
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>)
      }
    })
  }
})</pre></div>
<h3><a id="user-content-network-requests" class="anchor" href="#network-requests" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Network Requests</h3>
<p>WeChat network api offers common HTTPS requests, WebSocket, upload and download files.</p>
<ul>
<li><strong><code>wx.request</code></strong> to make a standard HTTPS request.</li>
<li><strong><code>wx.uploadFile</code></strong> to upload a file to the appointed server.</li>
<li><strong><code>wx.downloadFile</code></strong> to download a file from the appointed server.</li>
</ul>
<h4><a id="user-content-request-attributes" class="anchor" href="#request-attributes" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Request attributes:</h4>
<p><a href="/apelegri/wechat-miniprogram-wiki/blob/master/assets/http-request-table.png" target="_blank"><img src="/apelegri/wechat-miniprogram-wiki/raw/master/assets/http-request-table.png" alt="App affects page " style="max-width:100%;"></a></p>
<p>In the example below we have one function and one event handler: <code>addNewPost</code> and <code>onPullDownRefresh</code> respectively, as their name states, you should be able to add a new post and get posts using a <code>wx.request</code> call.</p>
<p><strong><code>Code snippet "making a POST HTTPS request" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> Add Posts <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">input</span> <span class="pl-e">confirm-type</span>=<span class="pl-s"><span class="pl-pds">"</span>send<span class="pl-pds">"</span></span> <span class="pl-e">bindconfirm</span>=<span class="pl-s"><span class="pl-pds">"</span>addNewPost<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">"</span>Add a new post!<span class="pl-pds">"</span></span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    posts<span class="pl-k">:</span> []
  },
  <span class="pl-en">addNewPost</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-k">var</span> message <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>
    <span class="pl-c"><span class="pl-c">//</span> Add a new post</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">request</span>({
    	url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>example.php<span class="pl-pds">'</span></span>, <span class="pl-c"><span class="pl-c">//</span> just an example address</span>
    	method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>,
    	data<span class="pl-k">:</span> {
    		post<span class="pl-k">:</span> {
    			content<span class="pl-k">:</span> message
    		}
    	},
		header<span class="pl-k">:</span> {
	      <span class="pl-s"><span class="pl-pds">'</span>content-type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>application/json<span class="pl-pds">'</span></span>
      }
    })
	}
})</pre></div>
<p>Now that we've posted, let's get and display it to the view layer. For simplicity sake we'll take advantage of onPullDownRefresh to reload new posts.</p>
<p><strong><code>Code snippet "making a GET HTTPS request" example.</code></strong></p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> .wxml <span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> Display Posts <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">block</span> <span class="pl-e">wx:for</span>=<span class="pl-s"><span class="pl-pds">"</span>{{posts}}<span class="pl-pds">"</span></span> <span class="pl-e">wx:for-item</span>=<span class="pl-s"><span class="pl-pds">"</span>post<span class="pl-pds">"</span></span>&gt;
	&lt;<span class="pl-ent">text</span>&gt;{{post.content}}&lt;/<span class="pl-ent">text</span>&gt;
&lt;/<span class="pl-ent">block</span>&gt;

<span class="pl-c"><span class="pl-c">&lt;!--</span> Add Posts <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">input</span> <span class="pl-e">confirm-type</span>=<span class="pl-s"><span class="pl-pds">"</span>send<span class="pl-pds">"</span></span> <span class="pl-e">bindconfirm</span>=<span class="pl-s"><span class="pl-pds">"</span>addNewPost<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">"</span>Add a new post!<span class="pl-pds">"</span></span>/&gt;</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> .js</span>
<span class="pl-en">Page</span>({
  data<span class="pl-k">:</span> {
    posts<span class="pl-k">:</span> []
  },
  <span class="pl-en">addNewPost</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
    <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
    <span class="pl-k">var</span> message <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">detail</span>.<span class="pl-c1">value</span>
    <span class="pl-c"><span class="pl-c">//</span> Add a new post</span>
    <span class="pl-smi">wx</span>.<span class="pl-en">request</span>({
    	url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>example.php<span class="pl-pds">'</span></span>, <span class="pl-c"><span class="pl-c">//</span> just an example address</span>
    	method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>,
    	data<span class="pl-k">:</span> {
    		post<span class="pl-k">:</span> {
    			content<span class="pl-k">:</span> message
    		}
    	}
    })
	},
	<span class="pl-c"><span class="pl-c">//</span> onPullDownRefresh must first be enabled in the config.</span>
	<span class="pl-en">onPullDownRefresh</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
		<span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-c1">this</span>
		<span class="pl-c"><span class="pl-c">//</span> by default the request is a GET.</span>
		<span class="pl-smi">wx</span>.<span class="pl-en">request</span>({
			url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>example.php<span class="pl-pds">'</span></span>,
			header<span class="pl-k">:</span> {
				<span class="pl-s"><span class="pl-pds">'</span>content-type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>application/json<span class="pl-pds">'</span></span>
			},
			success<span class="pl-k">:</span> {
				<span class="pl-smi">that</span>.<span class="pl-en">setData</span>({
					posts<span class="pl-k">:</span> <span class="pl-smi">res</span>.<span class="pl-c1">data</span> <span class="pl-c"><span class="pl-c">//</span> Set the Page data for posts to the response data.</span>
				})
			}
		})
	}

})</pre></div>
<hr>
<h2><a id="user-content-faq" class="anchor" href="#faq" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FAQ</h2>
<p>All along our mini-programs creation path we encountered issues and questions, we want to share with you. If you had some issues you want to share,  <a href="#contribute-to-this-wiki">reach out us</a>.</p>
<h3><a id="user-content-api-you-can-use" class="anchor" href="#api-you-can-use" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API, you can use</h3>
<p>WeChat <strong>allows only</strong> API that have an <a href="https://en.wikipedia.org/wiki/ICP_license">ICP license</a>, so you can forget about most of the APIs you are familiar with in western countries.</p>
<p>Here is a directory of APIs available in China, <a href="https://www.programmableweb.com/category/chinese">check it out</a>.</p>
<h3><a id="user-content-css-cant-use-background-image-property" class="anchor" href="#css-cant-use-background-image-property" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSS, can't use <code>background-image:</code> property</h3>
<p>Image ressources <strong>cannot be obtained</strong> through the <strong>CSS</strong> <code>background-image: url(../../images/banner.png);</code>. I know it is dreadful, but we have to deal with it.</p>
<p>There are <strong>two ways to bypass</strong> this frustration:</p>
<ul>
<li>
<p>You can use the CSS <code>background-image:</code> but you <strong>can't use a realtive path</strong>, you have to encode your image in <a href="https://stackoverflow.com/questions/201479/what-is-base-64-encoding-used-for">base64</a> and then pass it to to the <strong><code>background-image: url(base64 image);</code></strong>. Here is a tool to <a href="https://www.base64-image.de/">encode images in base64</a>.</p>
</li>
<li>
<p>Or you can use the <code>&lt;image&gt;</code> tag and treat images with <code>&lt;image&gt;</code> tag attribute like <strong><code>mode</code></strong>. WeChat has <strong>13 modes</strong>, 9 are <strong>cutting mode</strong> and 4 are <strong>zoom mode</strong>. Here is a link to the <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/image.html">documenation</a>.</p>
</li>
</ul>
<h3><a id="user-content-rpx-as-unit" class="anchor" href="#rpx-as-unit" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RPX as unit?</h3>
<p>RPX stands for <strong>responsive pixel</strong>  which is the unit of WeChat mini-programs. According to the official definition, <strong><code>rpx</code> is based on the adaptive screen width.</strong></p>
<p>In fact RPX unit is based on the <code>rem</code> unit which stands for <strong>"root em"</strong>. <strong>Why not <code>em</code> unit?</strong></p>
<p>The <code>em</code> unit is <strong>relative</strong> to the font-size of the <strong>parent</strong>, which causes <strong>compounding issue</strong>. The <code>rem</code> unit is relative to the root element which conteracts the compounding issue (font sizing duty).</p>
<p>However, to come back to <code>rpx</code> unit, <strong>rpx advantages</strong> are:</p>
<ul>
<li>It scales according to the width of the ratio (screen width) which makes the experience more responsive.</li>
<li>It facilitates the realization of high-definition, 1 pixel line.</li>
<li>Well suported on mobile and tablet devices.</li>
</ul>
<hr>
<h2><a id="user-content-thanks-for-reading" class="anchor" href="#thanks-for-reading" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thanks for reading!</h2>
<h3><a id="user-content-get-in-touch-1" class="anchor" href="#get-in-touch-1" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get in touch</h3>
<p>Are you working on a mini-program? Do <a href="http://lewagon.com/shanghai">reach out to us</a> if you’d like to share your work, meet our crew, ask for help!</p>
<h3><a id="user-content-contribute-to-this-wiki-1" class="anchor" href="#contribute-to-this-wiki-1" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contribute to this Wiki</h3>
<p>If you want to contribute, you can send a Pull Request <a href="https://github.com/apelegri/wechat-miniprogram-whitebook/pulls">here</a> or give us a shout on shanghai(at)lewagon.com for suggestions!</p>
</article>
  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2017 <span title="0.33529s from unicorn-1561864385-mcgtd">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>

    <a href="https://github.com" aria-label="Homepage" class="footer-octicon" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha256-B3S2SNL6RkCcJ2YKNRaaP3ncRq3JgcIWzRZmTkc3kcU=" src="https://assets-cdn.github.com/assets/frameworks-0774b648d2fa46409c27660a35169a3f79dc46adc981c216cd16664e473791c5.js"></script>
    
    <script async="async" crossorigin="anonymous" integrity="sha256-/ImFR2CwThLDuoPWrFJngqXR9Nl+Zskw+1T51pcBuiM=" src="https://assets-cdn.github.com/assets/github-fc89854760b04e12c3ba83d6ac526782a5d1f4d97e66c930fb54f9d69701ba23.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>


  </body>
</html>

